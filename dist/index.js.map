{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/react/index.js","../node_modules/dayjs/plugin/localizedFormat.js","../src/utils.ts","../src/Color.ts","../src/Actions.tsx","../src/GiftedAvatar.tsx","../src/Avatar.tsx","../src/QuickReplies.tsx","../src/MessageText.tsx","../src/MessageImage.tsx","../src/MessageVideo.tsx","../src/MessageAudio.tsx","../src/Constant.ts","../src/Time.tsx","../src/Bubble.tsx","../src/SystemMessage.tsx","../src/Composer.tsx","../src/Day.tsx","../src/Send.tsx","../src/InputToolbar.tsx","../src/LoadEarlier.tsx","../src/Message.tsx","../src/hooks/useUpdateLayoutEffect.ts","../src/TypingIndicator.tsx","../src/MessageContainer.tsx","../src/GiftedChat.tsx","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,n,o){var r=n.prototype,M=r.format;o.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var n=this.$locale().formats,o=function(t,n){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,o,r){var M=r&&r.toUpperCase();return o||n[r]||e[r]||n[M].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})}(t,void 0===n?{}:n);return M.call(this,o)}}});\n","import PropTypes from 'prop-types'\nimport dayjs from 'dayjs'\n\nimport { IMessage } from './Models'\n\nexport const StylePropType = PropTypes.oneOfType([\n  PropTypes.array,\n  PropTypes.object,\n  PropTypes.number,\n  PropTypes.bool,\n])\n\nexport function isSameDay(\n  currentMessage: IMessage,\n  diffMessage: IMessage | null | undefined,\n) {\n  if (!diffMessage || !diffMessage.createdAt) {\n    return false\n  }\n\n  const currentCreatedAt = dayjs(currentMessage.createdAt)\n  const diffCreatedAt = dayjs(diffMessage.createdAt)\n\n  if (!currentCreatedAt.isValid() || !diffCreatedAt.isValid()) {\n    return false\n  }\n\n  return currentCreatedAt.isSame(diffCreatedAt, 'day')\n}\n\nexport function isSameUser(\n  currentMessage: IMessage,\n  diffMessage: IMessage | null | undefined,\n) {\n  return !!(\n    diffMessage &&\n    diffMessage.user &&\n    currentMessage.user &&\n    diffMessage.user._id === currentMessage.user._id\n  )\n}\n\nconst styleString = (color: string) => `color: ${color}; font-weight: bold`\n\nconst headerLog = '%c[react-native-gifted-chat]'\n\nexport const warning = (...args: any) =>\n  console.log(headerLog, styleString('orange'), ...args)\n\nexport const error = (...args: any) =>\n  console.log(headerLog, styleString('red'), ...args)\n","export default {\n  defaultColor: '#b2b2b2',\n  backgroundTransparent: 'transparent',\n  defaultBlue: '#0084ff',\n  leftBubbleBackground: '#f0f0f0',\n  black: '#000',\n  white: '#fff',\n  carrot: '#e67e22',\n  emerald: '#2ecc71',\n  peterRiver: '#3498db',\n  wisteria: '#8e44ad',\n  alizarin: '#e74c3c',\n  turquoise: '#1abc9c',\n  midnightBlue: '#2c3e50',\n  optionTintColor: '#007AFF',\n  timeTextColor: '#aaa',\n}\n","import PropTypes from 'prop-types'\nimport React, { ReactNode } from 'react'\nimport {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n} from 'react-native'\nimport Color from './Color'\nimport { StylePropType } from './utils'\n\nexport interface ActionsProps {\n  options?: { [key: string]: any }\n  optionTintColor?: string\n  icon?: () => ReactNode\n  wrapperStyle?: StyleProp<ViewStyle>\n  iconTextStyle?: StyleProp<TextStyle>\n  containerStyle?: StyleProp<ViewStyle>\n  onPressActionButton?(): void\n}\n\nexport default class Actions extends React.Component<ActionsProps> {\n  static defaultProps: ActionsProps = {\n    options: {},\n    optionTintColor: Color.optionTintColor,\n    icon: undefined,\n    containerStyle: {},\n    iconTextStyle: {},\n    wrapperStyle: {},\n  }\n\n  static propTypes = {\n    onSend: PropTypes.func,\n    options: PropTypes.object,\n    optionTintColor: PropTypes.string,\n    icon: PropTypes.func,\n    onPressActionButton: PropTypes.func,\n    wrapperStyle: StylePropType,\n    containerStyle: StylePropType,\n  }\n\n  static contextTypes = {\n    actionSheet: PropTypes.func,\n  }\n\n  onActionsPress = () => {\n    const { options } = this.props\n    const optionKeys = Object.keys(options!)\n    const cancelButtonIndex = optionKeys.indexOf('Cancel')\n    this.context.actionSheet().showActionSheetWithOptions(\n      {\n        options: optionKeys,\n        cancelButtonIndex,\n        tintColor: this.props.optionTintColor,\n      },\n      (buttonIndex: number) => {\n        const key = optionKeys[buttonIndex]\n        if (key) {\n          options![key](this.props)\n        }\n      },\n    )\n  }\n\n  renderIcon() {\n    if (this.props.icon) {\n      return this.props.icon()\n    }\n    return (\n      <View style={[styles.wrapper, this.props.wrapperStyle]}>\n        <Text style={[styles.iconText, this.props.iconTextStyle]}>+</Text>\n      </View>\n    )\n  }\n\n  render() {\n    return (\n      <TouchableOpacity\n        style={[styles.container, this.props.containerStyle]}\n        onPress={this.props.onPressActionButton || this.onActionsPress}\n      >\n        {this.renderIcon()}\n      </TouchableOpacity>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: 26,\n    height: 26,\n    marginLeft: 10,\n    marginBottom: 10,\n  },\n  wrapper: {\n    borderRadius: 13,\n    borderColor: Color.defaultColor,\n    borderWidth: 2,\n    flex: 1,\n  },\n  iconText: {\n    color: Color.defaultColor,\n    fontWeight: 'bold',\n    fontSize: 16,\n    backgroundColor: Color.backgroundTransparent,\n    textAlign: 'center',\n  },\n})\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport {\n  Image,\n  Text,\n  TouchableOpacity,\n  View,\n  StyleSheet,\n  StyleProp,\n  ImageStyle,\n  TextStyle,\n} from 'react-native'\nimport Color from './Color'\nimport { User } from './Models'\nimport { StylePropType } from './utils'\n\nconst {\n  carrot,\n  emerald,\n  peterRiver,\n  wisteria,\n  alizarin,\n  turquoise,\n  midnightBlue,\n} = Color\n\nconst styles = StyleSheet.create({\n  avatarStyle: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n  },\n  avatarTransparent: {\n    backgroundColor: Color.backgroundTransparent,\n  },\n  textStyle: {\n    color: Color.white,\n    fontSize: 16,\n    backgroundColor: Color.backgroundTransparent,\n    fontWeight: '100',\n  },\n})\n\nexport interface GiftedAvatarProps {\n  user?: User\n  avatarStyle?: StyleProp<ImageStyle>\n  textStyle?: StyleProp<TextStyle>\n  onPress?(props: any): void\n  onLongPress?(props: any): void\n}\n\nexport default class GiftedAvatar extends React.Component<GiftedAvatarProps> {\n  static defaultProps = {\n    user: {\n      name: null,\n      avatar: null,\n    },\n    onPress: undefined,\n    onLongPress: undefined,\n    avatarStyle: {},\n    textStyle: {},\n  }\n\n  static propTypes = {\n    user: PropTypes.object,\n    onPress: PropTypes.func,\n    onLongPress: PropTypes.func,\n    avatarStyle: StylePropType,\n    textStyle: StylePropType,\n  }\n\n  avatarName?: string = undefined\n  avatarColor?: string = undefined\n\n  setAvatarColor() {\n    const userName = (this.props.user && this.props.user.name) || ''\n    const name = userName.toUpperCase().split(' ')\n    if (name.length === 1) {\n      this.avatarName = `${name[0].charAt(0)}`\n    } else if (name.length > 1) {\n      this.avatarName = `${name[0].charAt(0)}${name[1].charAt(0)}`\n    } else {\n      this.avatarName = ''\n    }\n\n    let sumChars = 0\n    for (let i = 0; i < userName.length; i += 1) {\n      sumChars += userName.charCodeAt(i)\n    }\n\n    // inspired by https://github.com/wbinnssmith/react-user-avatar\n    // colors from https://flatuicolors.com/\n    const colors = [\n      carrot,\n      emerald,\n      peterRiver,\n      wisteria,\n      alizarin,\n      turquoise,\n      midnightBlue,\n    ]\n\n    this.avatarColor = colors[sumChars % colors.length]\n  }\n\n  renderAvatar() {\n    const { user } = this.props\n    if (user) {\n      if (typeof user.avatar === 'function') {\n        return user.avatar([styles.avatarStyle, this.props.avatarStyle])\n      } else if (typeof user.avatar === 'string') {\n        return (\n          <Image\n            source={{ uri: user.avatar }}\n            style={[styles.avatarStyle, this.props.avatarStyle]}\n          />\n        )\n      } else if (typeof user.avatar === 'number') {\n        return (\n          <Image\n            source={user.avatar}\n            style={[styles.avatarStyle, this.props.avatarStyle]}\n          />\n        )\n      }\n    }\n    return null\n  }\n\n  renderInitials() {\n    return (\n      <Text style={[styles.textStyle, this.props.textStyle]}>\n        {this.avatarName}\n      </Text>\n    )\n  }\n\n  handleOnPress = () => {\n    const { onPress, ...other } = this.props\n    if (this.props.onPress) {\n      this.props.onPress(other)\n    }\n  }\n\n  handleOnLongPress = () => {}\n\n  render() {\n    if (\n      !this.props.user ||\n      (!this.props.user.name && !this.props.user.avatar)\n    ) {\n      // render placeholder\n      return (\n        <View\n          style={[\n            styles.avatarStyle,\n            styles.avatarTransparent,\n            this.props.avatarStyle,\n          ]}\n          accessibilityTraits='image'\n        />\n      )\n    }\n    if (this.props.user.avatar) {\n      return (\n        <TouchableOpacity\n          disabled={!this.props.onPress}\n          onPress={this.props.onPress}\n          onLongPress={this.props.onLongPress}\n          accessibilityTraits='image'\n        >\n          {this.renderAvatar()}\n        </TouchableOpacity>\n      )\n    }\n\n    this.setAvatarColor()\n\n    return (\n      <TouchableOpacity\n        disabled={!this.props.onPress}\n        onPress={this.props.onPress}\n        onLongPress={this.props.onLongPress}\n        style={[\n          styles.avatarStyle,\n          { backgroundColor: this.avatarColor },\n          this.props.avatarStyle,\n        ]}\n        accessibilityTraits='image'\n      >\n        {this.renderInitials()}\n      </TouchableOpacity>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { ReactNode } from 'react'\nimport {\n  StyleSheet,\n  View,\n  ImageStyle,\n  TextStyle,\n  ViewStyle,\n} from 'react-native'\nimport GiftedAvatar from './GiftedAvatar'\nimport { StylePropType, isSameUser, isSameDay } from './utils'\nimport { Omit, IMessage, User, LeftRightStyle } from './Models'\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {\n      marginRight: 8,\n    },\n    onTop: {\n      alignSelf: 'flex-start',\n    },\n    onBottom: {},\n    image: {\n      height: 36,\n      width: 36,\n      borderRadius: 18,\n    },\n  }),\n  right: StyleSheet.create({\n    container: {\n      marginLeft: 8,\n    },\n    onTop: {\n      alignSelf: 'flex-start',\n    },\n    onBottom: {},\n    image: {\n      height: 36,\n      width: 36,\n      borderRadius: 18,\n    },\n  }),\n}\n\nexport interface AvatarProps<TMessage extends IMessage> {\n  currentMessage?: TMessage\n  previousMessage?: TMessage\n  nextMessage?: TMessage\n  position: 'left' | 'right'\n  renderAvatarOnTop?: boolean\n  showAvatarForEveryMessage?: boolean\n  imageStyle?: LeftRightStyle<ImageStyle>\n  containerStyle?: LeftRightStyle<ViewStyle>\n  textStyle?: TextStyle\n  renderAvatar?(props: Omit<AvatarProps<TMessage>, 'renderAvatar'>): ReactNode\n  onPressAvatar?(user: User): void\n  onLongPressAvatar?(user: User): void\n}\n\nexport default class Avatar<\n  TMessage extends IMessage = IMessage\n> extends React.Component<AvatarProps<TMessage>> {\n  static defaultProps = {\n    renderAvatarOnTop: false,\n    showAvatarForEveryMessage: false,\n    position: 'left',\n    currentMessage: {\n      user: null,\n    },\n    previousMessage: {},\n    nextMessage: {},\n    containerStyle: {},\n    imageStyle: {},\n    onPressAvatar: () => {},\n    onLongPressAvatar: () => {},\n  }\n\n  static propTypes = {\n    renderAvatarOnTop: PropTypes.bool,\n    showAvatarForEveryMessage: PropTypes.bool,\n    position: PropTypes.oneOf(['left', 'right']),\n    currentMessage: PropTypes.object,\n    previousMessage: PropTypes.object,\n    nextMessage: PropTypes.object,\n    onPressAvatar: PropTypes.func,\n    onLongPressAvatar: PropTypes.func,\n    renderAvatar: PropTypes.func,\n    containerStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    imageStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n  }\n\n  renderAvatar() {\n    if (this.props.renderAvatar) {\n      const { renderAvatar, ...avatarProps } = this.props\n      return this.props.renderAvatar(avatarProps)\n    }\n    if (this.props.currentMessage) {\n      return (\n        <GiftedAvatar\n          avatarStyle={\n            [\n              styles[this.props.position].image,\n              this.props.imageStyle &&\n                this.props.imageStyle[this.props.position],\n            ] as ImageStyle\n          }\n          textStyle={this.props.textStyle ? this.props.textStyle : {}}\n          user={this.props.currentMessage.user}\n          onPress={() =>\n            this.props.onPressAvatar &&\n            this.props.onPressAvatar(this.props.currentMessage!.user)\n          }\n          onLongPress={() =>\n            this.props.onLongPressAvatar &&\n            this.props.onLongPressAvatar(this.props.currentMessage!.user)\n          }\n        />\n      )\n    }\n    return null\n  }\n\n  render() {\n    const {\n      renderAvatarOnTop,\n      showAvatarForEveryMessage,\n      containerStyle,\n      position,\n      currentMessage,\n      renderAvatar,\n      previousMessage,\n      nextMessage,\n      imageStyle,\n    } = this.props\n    const messageToCompare = renderAvatarOnTop ? previousMessage : nextMessage\n    const computedStyle = renderAvatarOnTop ? 'onTop' : 'onBottom'\n\n    if (renderAvatar === null) {\n      return null\n    }\n\n    if (\n      !showAvatarForEveryMessage &&\n      currentMessage &&\n      messageToCompare &&\n      isSameUser(currentMessage, messageToCompare) &&\n      isSameDay(currentMessage, messageToCompare)\n    ) {\n      return (\n        <View\n          style={[\n            styles[position].container,\n            containerStyle && containerStyle[position],\n          ]}\n        >\n          <GiftedAvatar\n            avatarStyle={\n              [\n                styles[position].image,\n                imageStyle && imageStyle[position],\n              ] as ImageStyle\n            }\n          />\n        </View>\n      )\n    }\n\n    return (\n      <View\n        style={[\n          styles[position].container,\n          styles[position][computedStyle],\n          containerStyle && containerStyle[position],\n        ]}\n      >\n        {this.renderAvatar()}\n      </View>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport {\n  Text,\n  StyleSheet,\n  View,\n  TouchableOpacity,\n  StyleProp,\n  ViewStyle,\n} from 'react-native'\nimport { IMessage, Reply } from './Models'\nimport Color from './Color'\nimport { warning, StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    maxWidth: 300,\n  },\n  quickReply: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    maxWidth: 200,\n    paddingVertical: 7,\n    paddingHorizontal: 12,\n    minHeight: 50,\n    borderRadius: 13,\n    margin: 3,\n  },\n  quickReplyText: {\n    overflow: 'visible',\n  },\n  sendLink: {\n    borderWidth: 0,\n  },\n  sendLinkText: {\n    color: Color.defaultBlue,\n    fontWeight: '600',\n    fontSize: 17,\n  },\n})\n\nexport interface QuickRepliesProps {\n  nextMessage?: IMessage\n  currentMessage?: IMessage\n  color?: string\n  sendText?: string\n  quickReplyStyle?: StyleProp<ViewStyle>\n  onQuickReply?(reply: Reply[]): void\n  renderQuickReplySend?(): React.ReactNode\n}\n\nexport interface QuickRepliesState {\n  replies: Reply[]\n}\n\nconst sameReply = (currentReply: Reply) => (reply: Reply) =>\n  currentReply.value === reply.value\n\nconst diffReply = (currentReply: Reply) => (reply: Reply) =>\n  currentReply.value !== reply.value\n\nexport default class QuickReplies extends Component<\n  QuickRepliesProps,\n  QuickRepliesState\n> {\n  static defaultProps = {\n    currentMessage: {\n      quickReplies: [],\n    },\n    onQuickReply: () => {},\n    color: Color.peterRiver,\n    sendText: 'Send',\n    keepReplies: false,\n    renderQuickReplySend: undefined,\n    quickReplyStyle: undefined,\n  }\n\n  static propTypes = {\n    currentMessage: PropTypes.object.isRequired,\n    onQuickReply: PropTypes.func,\n    color: PropTypes.string,\n    sendText: PropTypes.string,\n    keepReplies: PropTypes.bool,\n    renderQuickReplySend: PropTypes.func,\n    quickReplyStyle: StylePropType,\n  }\n\n  state = {\n    replies: [],\n  }\n\n  handlePress = (reply: Reply) => () => {\n    const { currentMessage } = this.props\n    const { replies } = this.state\n    if (currentMessage) {\n      const { type } = currentMessage.quickReplies!\n      switch (type) {\n        case 'radio': {\n          this.handleSend([reply])()\n          return\n        }\n\n        case 'checkbox': {\n          if (replies.find(sameReply(reply))) {\n            this.setState({\n              replies: this.state.replies.filter(diffReply(reply)),\n            })\n          } else {\n            this.setState({ replies: [...this.state.replies, reply] })\n          }\n          return\n        }\n\n        default: {\n          warning(`onQuickReply unknown type: ${type}`)\n          return\n        }\n      }\n    }\n  }\n\n  handleSend = (replies: Reply[]) => () => {\n    const { currentMessage } = this.props\n    if (this.props.onQuickReply) {\n      this.props.onQuickReply(\n        replies.map((reply: Reply) => ({\n          ...reply,\n          messageId: currentMessage!._id,\n        })),\n      )\n    }\n  }\n\n  shouldComponentDisplay = () => {\n    const { currentMessage, nextMessage } = this.props\n    const hasReplies = !!currentMessage && !!currentMessage!.quickReplies\n    const hasNext = !!nextMessage && !!nextMessage!._id\n    const keepIt = currentMessage!.quickReplies!.keepIt\n\n    if (hasReplies && !hasNext) {\n      return true\n    }\n    if (hasReplies && hasNext && keepIt) {\n      return true\n    }\n    return false\n  }\n\n  renderQuickReplySend = () => {\n    const { replies } = this.state\n    const { sendText, renderQuickReplySend: customSend } = this.props\n\n    return (\n      <TouchableOpacity\n        style={[styles.quickReply, styles.sendLink]}\n        onPress={this.handleSend(replies)}\n      >\n        {customSend ? (\n          customSend()\n        ) : (\n          <Text style={styles.sendLinkText}>{sendText}</Text>\n        )}\n      </TouchableOpacity>\n    )\n  }\n\n  render() {\n    const { currentMessage, color, quickReplyStyle } = this.props\n    const { replies } = this.state\n\n    if (!this.shouldComponentDisplay()) {\n      return null\n    }\n\n    const { type } = currentMessage!.quickReplies!\n\n    return (\n      <View style={styles.container}>\n        {currentMessage!.quickReplies!.values.map(\n          (reply: Reply, index: number) => {\n            const selected =\n              type === 'checkbox' && replies.find(sameReply(reply))\n            return (\n              <TouchableOpacity\n                onPress={this.handlePress(reply)}\n                style={[\n                  styles.quickReply,\n                  quickReplyStyle,\n                  { borderColor: color },\n                  selected && { backgroundColor: color },\n                ]}\n                key={`${reply.value}-${index}`}\n              >\n                <Text\n                  numberOfLines={10}\n                  ellipsizeMode={'tail'}\n                  style={[\n                    styles.quickReplyText,\n                    { color: selected ? Color.white : color },\n                  ]}\n                >\n                  {reply.title}\n                </Text>\n              </TouchableOpacity>\n            )\n          },\n        )}\n        {replies.length > 0 && this.renderQuickReplySend()}\n      </View>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport {\n  Linking,\n  StyleSheet,\n  View,\n  TextProps,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n} from 'react-native'\n\n// @ts-ignore\nimport ParsedText from 'react-native-parsed-text'\nimport Communications from 'react-native-communications'\nimport { LeftRightStyle, IMessage } from './Models'\nimport { StylePropType } from './utils'\n\nconst WWW_URL_PATTERN = /^www\\./i\n\nconst textStyle = {\n  fontSize: 16,\n  lineHeight: 20,\n  marginTop: 5,\n  marginBottom: 5,\n  marginLeft: 10,\n  marginRight: 10,\n}\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {},\n    text: {\n      color: 'black',\n      ...textStyle,\n    },\n    link: {\n      color: 'black',\n      textDecorationLine: 'underline',\n    },\n  }),\n  right: StyleSheet.create({\n    container: {},\n    text: {\n      color: 'white',\n      ...textStyle,\n    },\n    link: {\n      color: 'white',\n      textDecorationLine: 'underline',\n    },\n  }),\n}\n\nconst DEFAULT_OPTION_TITLES = ['Call', 'Text', 'Cancel']\n\nexport interface MessageTextProps<TMessage extends IMessage> {\n  position: 'left' | 'right'\n  optionTitles?: string[]\n  currentMessage?: TMessage\n  containerStyle?: LeftRightStyle<ViewStyle>\n  textStyle?: LeftRightStyle<TextStyle>\n  linkStyle?: LeftRightStyle<TextStyle>\n  textProps?: TextProps\n  customTextStyle?: StyleProp<TextStyle>\n  parsePatterns?(linkStyle: TextStyle): any\n}\n\nexport default class MessageText<\n  TMessage extends IMessage = IMessage\n> extends React.Component<MessageTextProps<TMessage>> {\n  static contextTypes = {\n    actionSheet: PropTypes.func,\n  }\n\n  static defaultProps = {\n    position: 'left',\n    optionTitles: DEFAULT_OPTION_TITLES,\n    currentMessage: {\n      text: '',\n    },\n    containerStyle: {},\n    textStyle: {},\n    linkStyle: {},\n    customTextStyle: {},\n    textProps: {},\n    parsePatterns: () => [],\n  }\n\n  static propTypes = {\n    position: PropTypes.oneOf(['left', 'right']),\n    optionTitles: PropTypes.arrayOf(PropTypes.string),\n    currentMessage: PropTypes.object,\n    containerStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    textStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    linkStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    parsePatterns: PropTypes.func,\n    textProps: PropTypes.object,\n    customTextStyle: StylePropType,\n  }\n\n  shouldComponentUpdate(nextProps: MessageTextProps<TMessage>) {\n    return (\n      !!this.props.currentMessage &&\n      !!nextProps.currentMessage &&\n      this.props.currentMessage.text !== nextProps.currentMessage.text\n    )\n  }\n\n  onUrlPress = (url: string) => {\n    // When someone sends a message that includes a website address beginning with \"www.\" (omitting the scheme),\n    // react-native-parsed-text recognizes it as a valid url, but Linking fails to open due to the missing scheme.\n    if (WWW_URL_PATTERN.test(url)) {\n      this.onUrlPress(`http://${url}`)\n    } else {\n      Linking.canOpenURL(url).then(supported => {\n        if (!supported) {\n          console.error('No handler for URL:', url)\n        } else {\n          Linking.openURL(url)\n        }\n      })\n    }\n  }\n\n  onPhonePress = (phone: string) => {\n    const { optionTitles } = this.props\n    const options =\n      optionTitles && optionTitles.length > 0\n        ? optionTitles.slice(0, 3)\n        : DEFAULT_OPTION_TITLES\n    const cancelButtonIndex = options.length - 1\n    this.context.actionSheet().showActionSheetWithOptions(\n      {\n        options,\n        cancelButtonIndex,\n      },\n      (buttonIndex: number) => {\n        switch (buttonIndex) {\n          case 0:\n            Communications.phonecall(phone, true)\n            break\n          case 1:\n            Communications.text(phone)\n            break\n          default:\n            break\n        }\n      },\n    )\n  }\n\n  onEmailPress = (email: string) =>\n    Communications.email([email], null, null, null, null)\n\n  render() {\n    const linkStyle = [\n      styles[this.props.position].link,\n      this.props.linkStyle && this.props.linkStyle[this.props.position],\n    ]\n    return (\n      <View\n        style={[\n          styles[this.props.position].container,\n          this.props.containerStyle &&\n            this.props.containerStyle[this.props.position],\n        ]}\n      >\n        <ParsedText\n          style={[\n            styles[this.props.position].text,\n            this.props.textStyle && this.props.textStyle[this.props.position],\n            this.props.customTextStyle,\n          ]}\n          parse={[\n            ...this.props.parsePatterns!(linkStyle as TextStyle),\n            { type: 'url', style: linkStyle, onPress: this.onUrlPress },\n            { type: 'phone', style: linkStyle, onPress: this.onPhonePress },\n            { type: 'email', style: linkStyle, onPress: this.onEmailPress },\n          ]}\n          childrenProps={{ ...this.props.textProps }}\n        >\n          {this.props.currentMessage!.text}\n        </ParsedText>\n      </View>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport {\n  Image,\n  StyleSheet,\n  View,\n  ImageProps,\n  ViewStyle,\n  StyleProp,\n  ImageStyle,\n} from 'react-native'\n// TODO: support web\n// @ts-ignore\nimport Lightbox from 'react-native-lightbox'\nimport { IMessage } from './Models'\nimport { StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  container: {},\n  image: {\n    width: 150,\n    height: 100,\n    borderRadius: 13,\n    margin: 3,\n    resizeMode: 'cover',\n  },\n  imageActive: {\n    flex: 1,\n    resizeMode: 'contain',\n  },\n})\n\nexport interface MessageImageProps<TMessage extends IMessage> {\n  currentMessage?: TMessage\n  containerStyle?: StyleProp<ViewStyle>\n  imageStyle?: StyleProp<ImageStyle>\n  imageProps?: Partial<ImageProps>\n  lightboxProps?: object\n}\n\nexport default class MessageImage<\n  TMessage extends IMessage = IMessage\n> extends Component<MessageImageProps<TMessage>> {\n  static defaultProps = {\n    currentMessage: {\n      image: null,\n    },\n    containerStyle: {},\n    imageStyle: {},\n    imageProps: {},\n    lightboxProps: {},\n  }\n\n  static propTypes = {\n    currentMessage: PropTypes.object,\n    containerStyle: StylePropType,\n    imageStyle: StylePropType,\n    imageProps: PropTypes.object,\n    lightboxProps: PropTypes.object,\n  }\n  render() {\n    const {\n      containerStyle,\n      lightboxProps,\n      imageProps,\n      imageStyle,\n      currentMessage,\n    } = this.props\n    if (!!currentMessage) {\n      return (\n        <View style={[styles.container, containerStyle]}>\n          <Lightbox\n            activeProps={{\n              style: styles.imageActive,\n            }}\n            {...lightboxProps}\n          >\n            <Image\n              {...imageProps}\n              style={[styles.image, imageStyle]}\n              source={{ uri: currentMessage.image }}\n            />\n          </Lightbox>\n        </View>\n      )\n    }\n    return null\n  }\n}\n","import React from 'react'\nimport Color from './Color'\nimport { View, Text } from 'react-native'\n\nexport default (_props: any) => (\n  <View style={{ padding: 20 }}>\n    <Text style={{ color: Color.alizarin, fontWeight: '600' }}>\n      Video is not implemented by GiftedChat.\n    </Text>\n    <Text style={{ color: Color.alizarin, fontWeight: '600' }}>\n      You need to provide your own implementation by using renderMessageVideo\n      prop.\n    </Text>\n  </View>\n)\n","import React from 'react'\nimport Color from './Color'\nimport { View, Text } from 'react-native'\n\nexport default (_props: any) => (\n  <View style={{ padding: 20 }}>\n    <Text style={{ color: Color.alizarin, fontWeight: '600' }}>\n      Audio is not implemented by GiftedChat.\n    </Text>\n    <Text style={{ color: Color.alizarin, fontWeight: '600' }}>\n      You need to provide your own implementation by using renderMessageAudio\n      prop.\n    </Text>\n  </View>\n)\n","import { Platform } from 'react-native'\n\nexport const MIN_COMPOSER_HEIGHT = Platform.select({\n  ios: 33,\n  android: 41,\n  web: 34,\n})\nexport const MAX_COMPOSER_HEIGHT = 200\nexport const DEFAULT_PLACEHOLDER = 'Type a message...'\nexport const DATE_FORMAT = 'll'\nexport const TIME_FORMAT = 'LT'\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { StyleSheet, Text, View, ViewStyle, TextStyle } from 'react-native'\nimport dayjs from 'dayjs'\n\nimport Color from './Color'\nimport { TIME_FORMAT } from './Constant'\nimport { LeftRightStyle, IMessage } from './Models'\nimport { StylePropType } from './utils'\n\nconst containerStyle = {\n  marginLeft: 10,\n  marginRight: 10,\n  marginBottom: 5,\n}\n\nconst textStyle = {\n  fontSize: 10,\n  backgroundColor: 'transparent',\n  textAlign: 'right',\n}\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {\n      ...containerStyle,\n    },\n    text: {\n      color: Color.timeTextColor,\n      ...textStyle,\n    },\n  }),\n  right: StyleSheet.create({\n    container: {\n      ...containerStyle,\n    },\n    text: {\n      color: Color.white,\n      ...textStyle,\n    },\n  }),\n}\n\nexport interface TimeProps<TMessage extends IMessage> {\n  position: 'left' | 'right'\n  currentMessage?: TMessage\n  containerStyle?: LeftRightStyle<ViewStyle>\n  timeTextStyle?: LeftRightStyle<TextStyle>\n  timeFormat?: string\n}\n\nexport default class Time<\n  TMessage extends IMessage = IMessage\n> extends Component<TimeProps<TMessage>> {\n  static contextTypes = {\n    getLocale: PropTypes.func,\n  }\n\n  static defaultProps = {\n    position: 'left',\n    currentMessage: {\n      createdAt: null,\n    },\n    containerStyle: {},\n    timeFormat: TIME_FORMAT,\n    timeTextStyle: {},\n  }\n\n  static propTypes = {\n    position: PropTypes.oneOf(['left', 'right']),\n    currentMessage: PropTypes.object,\n    containerStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    timeFormat: PropTypes.string,\n    timeTextStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n  }\n\n  render() {\n    const {\n      position,\n      containerStyle,\n      currentMessage,\n      timeFormat,\n      timeTextStyle,\n    } = this.props\n\n    if (!!currentMessage) {\n      return (\n        <View\n          style={[\n            styles[position].container,\n            containerStyle && containerStyle[position],\n          ]}\n        >\n          <Text\n            style={\n              [\n                styles[position].text,\n                timeTextStyle && timeTextStyle[position],\n              ] as TextStyle\n            }\n          >\n            {dayjs(currentMessage.createdAt)\n              .locale(this.context.getLocale())\n              .format(timeFormat)}\n          </Text>\n        </View>\n      )\n    }\n    return null\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport {\n  Text,\n  Clipboard,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  View,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n} from 'react-native'\n\nimport QuickReplies from './QuickReplies'\n\nimport MessageText from './MessageText'\nimport MessageImage from './MessageImage'\nimport MessageVideo from './MessageVideo'\nimport MessageAudio from './MessageAudio'\n\nimport Time from './Time'\nimport Color from './Color'\n\nimport { StylePropType, isSameUser, isSameDay } from './utils'\nimport {\n  User,\n  IMessage,\n  LeftRightStyle,\n  Reply,\n  Omit,\n  MessageVideoProps,\n  MessageAudioProps,\n} from './Models'\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'flex-start',\n    },\n    wrapper: {\n      borderRadius: 15,\n      backgroundColor: Color.leftBubbleBackground,\n      marginRight: 60,\n      minHeight: 20,\n      justifyContent: 'flex-end',\n    },\n    containerToNext: {\n      borderBottomLeftRadius: 3,\n    },\n    containerToPrevious: {\n      borderTopLeftRadius: 3,\n    },\n    bottom: {\n      flexDirection: 'row',\n      justifyContent: 'flex-start',\n    },\n  }),\n  right: StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'flex-end',\n    },\n    wrapper: {\n      borderRadius: 15,\n      backgroundColor: Color.defaultBlue,\n      marginLeft: 60,\n      minHeight: 20,\n      justifyContent: 'flex-end',\n    },\n    containerToNext: {\n      borderBottomRightRadius: 3,\n    },\n    containerToPrevious: {\n      borderTopRightRadius: 3,\n    },\n    bottom: {\n      flexDirection: 'row',\n      justifyContent: 'flex-end',\n    },\n  }),\n  content: StyleSheet.create({\n    tick: {\n      fontSize: 10,\n      backgroundColor: Color.backgroundTransparent,\n      color: Color.white,\n    },\n    tickView: {\n      flexDirection: 'row',\n      marginRight: 10,\n    },\n    username: {\n      top: -3,\n      left: 0,\n      fontSize: 12,\n      backgroundColor: 'transparent',\n      color: '#aaa',\n    },\n    usernameView: {\n      flexDirection: 'row',\n      marginHorizontal: 10,\n    },\n  }),\n}\n\nconst DEFAULT_OPTION_TITLES = ['Copy Text', 'Cancel']\n\nexport type RenderMessageImageProps<TMessage extends IMessage> = Omit<\n  BubbleProps<TMessage>,\n  'containerStyle' | 'wrapperStyle'\n> &\n  MessageImage['props']\n\nexport type RenderMessageVideoProps<TMessage extends IMessage> = Omit<\n  BubbleProps<TMessage>,\n  'containerStyle' | 'wrapperStyle'\n> &\n  MessageVideoProps<TMessage>\n\nexport type RenderMessageAudioProps<TMessage extends IMessage> = Omit<\n  BubbleProps<TMessage>,\n  'containerStyle' | 'wrapperStyle'\n> &\n  MessageAudioProps<TMessage>\n\nexport type RenderMessageTextProps<TMessage extends IMessage> = Omit<\n  BubbleProps<TMessage>,\n  'containerStyle' | 'wrapperStyle'\n> &\n  MessageText['props']\n\nexport interface BubbleProps<TMessage extends IMessage> {\n  user?: User\n  touchableProps?: object\n  renderUsernameOnMessage?: boolean\n  isCustomViewBottom?: boolean\n  inverted?: boolean\n  position: 'left' | 'right'\n  currentMessage?: TMessage\n  nextMessage?: TMessage\n  previousMessage?: TMessage\n  optionTitles?: string[]\n  containerStyle?: LeftRightStyle<ViewStyle>\n  wrapperStyle?: LeftRightStyle<ViewStyle>\n  textStyle?: LeftRightStyle<TextStyle>\n  bottomContainerStyle?: LeftRightStyle<ViewStyle>\n  tickStyle?: StyleProp<TextStyle>\n  containerToNextStyle?: LeftRightStyle<ViewStyle>\n  containerToPreviousStyle?: LeftRightStyle<ViewStyle>\n  usernameStyle?: TextStyle\n  quickReplyStyle?: StyleProp<ViewStyle>\n  onPress?(context?: any, message?: any): void\n  onLongPress?(context?: any, message?: any): void\n  onQuickReply?(replies: Reply[]): void\n  renderMessageImage?(props: RenderMessageImageProps<TMessage>): React.ReactNode\n  renderMessageVideo?(props: RenderMessageVideoProps<TMessage>): React.ReactNode\n  renderMessageAudio?(props: RenderMessageAudioProps<TMessage>): React.ReactNode\n  renderMessageText?(props: RenderMessageTextProps<TMessage>): React.ReactNode\n  renderCustomView?(bubbleProps: BubbleProps<TMessage>): React.ReactNode\n  renderTime?(timeProps: Time['props']): React.ReactNode\n  renderTicks?(currentMessage: TMessage): React.ReactNode\n  renderUsername?(): React.ReactNode\n  renderQuickReplySend?(): React.ReactNode\n  renderQuickReplies?(quickReplies: QuickReplies['props']): React.ReactNode\n}\n\nexport default class Bubble<\n  TMessage extends IMessage = IMessage\n> extends React.Component<BubbleProps<TMessage>> {\n  static contextTypes = {\n    actionSheet: PropTypes.func,\n  }\n\n  static defaultProps = {\n    touchableProps: {},\n    onPress: null,\n    onLongPress: null,\n    renderMessageImage: null,\n    renderMessageVideo: null,\n    renderMessageAudio: null,\n    renderMessageText: null,\n    renderCustomView: null,\n    renderUsername: null,\n    renderTicks: null,\n    renderTime: null,\n    renderQuickReplies: null,\n    onQuickReply: null,\n    position: 'left',\n    optionTitles: DEFAULT_OPTION_TITLES,\n    currentMessage: {\n      text: null,\n      createdAt: null,\n      image: null,\n    },\n    nextMessage: {},\n    previousMessage: {},\n    containerStyle: {},\n    wrapperStyle: {},\n    bottomContainerStyle: {},\n    tickStyle: {},\n    usernameStyle: {},\n    containerToNextStyle: {},\n    containerToPreviousStyle: {},\n  }\n\n  static propTypes = {\n    user: PropTypes.object.isRequired,\n    touchableProps: PropTypes.object,\n    onLongPress: PropTypes.func,\n    renderMessageImage: PropTypes.func,\n    renderMessageVideo: PropTypes.func,\n    renderMessageAudio: PropTypes.func,\n    renderMessageText: PropTypes.func,\n    renderCustomView: PropTypes.func,\n    isCustomViewBottom: PropTypes.bool,\n    renderUsernameOnMessage: PropTypes.bool,\n    renderUsername: PropTypes.func,\n    renderTime: PropTypes.func,\n    renderTicks: PropTypes.func,\n    renderQuickReplies: PropTypes.func,\n    onQuickReply: PropTypes.func,\n    position: PropTypes.oneOf(['left', 'right']),\n    optionTitles: PropTypes.arrayOf(PropTypes.string),\n    currentMessage: PropTypes.object,\n    nextMessage: PropTypes.object,\n    previousMessage: PropTypes.object,\n    containerStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    wrapperStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    bottomContainerStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    tickStyle: StylePropType,\n    usernameStyle: StylePropType,\n    containerToNextStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    containerToPreviousStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n  }\n\n  onPress = () => {\n    if (this.props.onPress) {\n      this.props.onPress(this.context, this.props.currentMessage)\n    }\n  }\n\n  onLongPress = () => {\n    const { currentMessage } = this.props\n    if (this.props.onLongPress) {\n      this.props.onLongPress(this.context, this.props.currentMessage)\n    } else if (currentMessage && currentMessage.text) {\n      const { optionTitles } = this.props\n      const options =\n        optionTitles && optionTitles.length > 0\n          ? optionTitles.slice(0, 2)\n          : DEFAULT_OPTION_TITLES\n      const cancelButtonIndex = options.length - 1\n      this.context.actionSheet().showActionSheetWithOptions(\n        {\n          options,\n          cancelButtonIndex,\n        },\n        (buttonIndex: number) => {\n          switch (buttonIndex) {\n            case 0:\n              Clipboard.setString(currentMessage.text)\n              break\n            default:\n              break\n          }\n        },\n      )\n    }\n  }\n\n  styledBubbleToNext() {\n    const {\n      currentMessage,\n      nextMessage,\n      position,\n      containerToNextStyle,\n    } = this.props\n    if (\n      currentMessage &&\n      nextMessage &&\n      position &&\n      isSameUser(currentMessage, nextMessage) &&\n      isSameDay(currentMessage, nextMessage)\n    ) {\n      return [\n        styles[position].containerToNext,\n        containerToNextStyle && containerToNextStyle[position],\n      ]\n    }\n    return null\n  }\n\n  styledBubbleToPrevious() {\n    const {\n      currentMessage,\n      previousMessage,\n      position,\n      containerToPreviousStyle,\n    } = this.props\n    if (\n      currentMessage &&\n      previousMessage &&\n      position &&\n      isSameUser(currentMessage, previousMessage) &&\n      isSameDay(currentMessage, previousMessage)\n    ) {\n      return [\n        styles[position].containerToPrevious,\n        containerToPreviousStyle && containerToPreviousStyle[position],\n      ]\n    }\n    return null\n  }\n\n  renderQuickReplies() {\n    const {\n      currentMessage,\n      onQuickReply,\n      nextMessage,\n      renderQuickReplySend,\n      quickReplyStyle,\n    } = this.props\n    if (currentMessage && currentMessage.quickReplies) {\n      const { containerStyle, wrapperStyle, ...quickReplyProps } = this.props\n      if (this.props.renderQuickReplies) {\n        return this.props.renderQuickReplies(quickReplyProps)\n      }\n      return (\n        <QuickReplies\n          {...{\n            currentMessage,\n            onQuickReply,\n            nextMessage,\n            renderQuickReplySend,\n            quickReplyStyle,\n          }}\n        />\n      )\n    }\n    return null\n  }\n\n  renderMessageText() {\n    if (this.props.currentMessage && this.props.currentMessage.text) {\n      const {\n        containerStyle,\n        wrapperStyle,\n        optionTitles,\n        ...messageTextProps\n      } = this.props\n      if (this.props.renderMessageText) {\n        return this.props.renderMessageText(messageTextProps)\n      }\n      return <MessageText {...messageTextProps} />\n    }\n    return null\n  }\n\n  renderMessageImage() {\n    if (this.props.currentMessage && this.props.currentMessage.image) {\n      const { containerStyle, wrapperStyle, ...messageImageProps } = this.props\n      if (this.props.renderMessageImage) {\n        return this.props.renderMessageImage(messageImageProps)\n      }\n      return <MessageImage {...messageImageProps} />\n    }\n    return null\n  }\n\n  renderMessageVideo() {\n    if (this.props.currentMessage && this.props.currentMessage.video) {\n      const { containerStyle, wrapperStyle, ...messageVideoProps } = this.props\n      if (this.props.renderMessageVideo) {\n        return this.props.renderMessageVideo(messageVideoProps)\n      }\n      return <MessageVideo {...messageVideoProps} />\n    }\n    return null\n  }\n\n  renderMessageAudio() {\n    if (this.props.currentMessage && this.props.currentMessage.audio) {\n      const { containerStyle, wrapperStyle, ...messageAudioProps } = this.props\n      if (this.props.renderMessageAudio) {\n        return this.props.renderMessageAudio(messageAudioProps)\n      }\n      return <MessageAudio {...messageAudioProps} />\n    }\n    return null\n  }\n\n  renderTicks() {\n    const { currentMessage, renderTicks, user } = this.props\n    if (renderTicks && currentMessage) {\n      return renderTicks(currentMessage)\n    }\n    if (\n      currentMessage &&\n      user &&\n      currentMessage.user &&\n      currentMessage.user._id !== user._id\n    ) {\n      return null\n    }\n    if (\n      currentMessage &&\n      (currentMessage.sent || currentMessage.received || currentMessage.pending)\n    ) {\n      return (\n        <View style={styles.content.tickView}>\n          {!!currentMessage.sent && (\n            <Text style={[styles.content.tick, this.props.tickStyle]}></Text>\n          )}\n          {!!currentMessage.received && (\n            <Text style={[styles.content.tick, this.props.tickStyle]}></Text>\n          )}\n          {!!currentMessage.pending && (\n            <Text style={[styles.content.tick, this.props.tickStyle]}></Text>\n          )}\n        </View>\n      )\n    }\n    return null\n  }\n\n  renderTime() {\n    if (this.props.currentMessage && this.props.currentMessage.createdAt) {\n      const {\n        containerStyle,\n        wrapperStyle,\n        textStyle,\n        ...timeProps\n      } = this.props\n      if (this.props.renderTime) {\n        return this.props.renderTime(timeProps)\n      }\n      return <Time {...timeProps} />\n    }\n    return null\n  }\n\n  renderUsername() {\n    const { currentMessage, user } = this.props\n    if (this.props.renderUsernameOnMessage && currentMessage) {\n      if (user && currentMessage.user._id === user._id) {\n        return null\n      }\n      return (\n        <View style={styles.content.usernameView}>\n          <Text\n            style={\n              [styles.content.username, this.props.usernameStyle] as TextStyle\n            }\n          >\n            ~ {currentMessage.user.name}\n          </Text>\n        </View>\n      )\n    }\n    return null\n  }\n\n  renderCustomView() {\n    if (this.props.renderCustomView) {\n      return this.props.renderCustomView(this.props)\n    }\n    return null\n  }\n\n  renderBubbleContent() {\n    return this.props.isCustomViewBottom ? (\n      <View>\n        {this.renderMessageImage()}\n        {this.renderMessageVideo()}\n        {this.renderMessageAudio()}\n        {this.renderMessageText()}\n        {this.renderCustomView()}\n      </View>\n    ) : (\n      <View>\n        {this.renderCustomView()}\n        {this.renderMessageImage()}\n        {this.renderMessageVideo()}\n        {this.renderMessageAudio()}\n        {this.renderMessageText()}\n      </View>\n    )\n  }\n\n  render() {\n    const {\n      position,\n      containerStyle,\n      wrapperStyle,\n      bottomContainerStyle,\n    } = this.props\n    return (\n      <View\n        style={[\n          styles[position].container,\n          containerStyle && containerStyle[position],\n        ]}\n      >\n        <View\n          style={[\n            styles[position].wrapper,\n            this.styledBubbleToNext(),\n            this.styledBubbleToPrevious(),\n            wrapperStyle && wrapperStyle[position],\n          ]}\n        >\n          <TouchableWithoutFeedback\n            onPress={this.onPress}\n            onLongPress={this.onLongPress}\n            accessibilityTraits='text'\n            {...this.props.touchableProps}\n          >\n            <View>\n              {this.renderBubbleContent()}\n              <View\n                style={[\n                  styles[position].bottom,\n                  bottomContainerStyle && bottomContainerStyle[position],\n                ]}\n              >\n                {this.renderUsername()}\n                {this.renderTime()}\n                {this.renderTicks()}\n              </View>\n            </View>\n          </TouchableWithoutFeedback>\n        </View>\n        {this.renderQuickReplies()}\n      </View>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  StyleSheet,\n  Text,\n  View,\n  ViewStyle,\n  StyleProp,\n  TextStyle,\n} from 'react-native'\nimport PropTypes from 'prop-types'\nimport Color from './Color'\nimport { IMessage } from './Models'\nimport { StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    marginTop: 5,\n    marginBottom: 10,\n  },\n  text: {\n    backgroundColor: Color.backgroundTransparent,\n    color: Color.defaultColor,\n    fontSize: 12,\n    fontWeight: '300',\n  },\n})\n\nexport interface SystemMessageProps<TMessage extends IMessage> {\n  currentMessage?: TMessage\n  containerStyle?: StyleProp<ViewStyle>\n  wrapperStyle?: StyleProp<ViewStyle>\n  textStyle?: StyleProp<TextStyle>\n}\n\nexport default class SystemMessage<\n  TMessage extends IMessage = IMessage\n> extends Component<SystemMessageProps<TMessage>> {\n  static defaultProps = {\n    currentMessage: {\n      system: false,\n    },\n    containerStyle: {},\n    wrapperStyle: {},\n    textStyle: {},\n  }\n\n  static propTypes = {\n    currentMessage: PropTypes.object,\n    containerStyle: StylePropType,\n    wrapperStyle: StylePropType,\n    textStyle: StylePropType,\n  }\n\n  render() {\n    const {\n      currentMessage,\n      containerStyle,\n      wrapperStyle,\n      textStyle,\n    } = this.props\n    if (currentMessage) {\n      return (\n        <View style={[styles.container, containerStyle]}>\n          <View style={wrapperStyle}>\n            <Text style={[styles.text, textStyle]}>{currentMessage.text}</Text>\n          </View>\n        </View>\n      )\n    }\n    return null\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { Platform, StyleSheet, TextInput, TextInputProps } from 'react-native'\nimport { MIN_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER } from './Constant'\nimport Color from './Color'\nimport { StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  textInput: {\n    flex: 1,\n    marginLeft: 10,\n    fontSize: 16,\n    lineHeight: 16,\n    ...Platform.select({\n      web: {\n        paddingTop: 6,\n        paddingLeft: 4,\n      },\n    }),\n    marginTop: Platform.select({\n      ios: 6,\n      android: 0,\n      web: 6,\n    }),\n    marginBottom: Platform.select({\n      ios: 5,\n      android: 3,\n      web: 4,\n    }),\n  },\n})\n\nexport interface ComposerProps {\n  composerHeight?: number\n  text?: string\n  placeholder?: string\n  placeholderTextColor?: string\n  textInputProps?: Partial<TextInputProps>\n  textInputStyle?: TextInputProps['style']\n  textInputAutoFocus?: boolean\n  keyboardAppearance?: TextInputProps['keyboardAppearance']\n  multiline?: boolean\n  disableComposer?: boolean\n  onTextChanged?(text: string): void\n  onInputSizeChanged?(layout: { width: number; height: number }): void\n}\n\nexport default class Composer extends React.Component<ComposerProps> {\n  static defaultProps = {\n    composerHeight: MIN_COMPOSER_HEIGHT,\n    text: '',\n    placeholderTextColor: Color.defaultColor,\n    placeholder: DEFAULT_PLACEHOLDER,\n    textInputProps: null,\n    multiline: true,\n    disableComposer: false,\n    textInputStyle: {},\n    textInputAutoFocus: false,\n    keyboardAppearance: 'default',\n    onTextChanged: () => {},\n    onInputSizeChanged: () => {},\n  }\n\n  static propTypes = {\n    composerHeight: PropTypes.number,\n    text: PropTypes.string,\n    placeholder: PropTypes.string,\n    placeholderTextColor: PropTypes.string,\n    textInputProps: PropTypes.object,\n    onTextChanged: PropTypes.func,\n    onInputSizeChanged: PropTypes.func,\n    multiline: PropTypes.bool,\n    disableComposer: PropTypes.bool,\n    textInputStyle: StylePropType,\n    textInputAutoFocus: PropTypes.bool,\n    keyboardAppearance: PropTypes.string,\n  }\n\n  layout?: { width: number; height: number } = undefined\n\n  onLayout = (e: any) => {\n    const { layout } = e.nativeEvent\n\n    // Support earlier versions of React Native on Android.\n    if (!layout) {\n      return\n    }\n\n    if (\n      !this.layout ||\n      (this.layout &&\n        (this.layout.width !== layout.width ||\n          this.layout.height !== layout.height))\n    ) {\n      this.layout = layout\n      this.props.onInputSizeChanged!(this.layout!)\n    }\n  }\n\n  onChangeText = (text: string) => {\n    this.props.onTextChanged!(text)\n  }\n\n  render() {\n    return (\n      <TextInput\n        testID={this.props.placeholder}\n        accessible\n        accessibilityLabel={this.props.placeholder}\n        placeholder={this.props.placeholder}\n        placeholderTextColor={this.props.placeholderTextColor}\n        multiline={this.props.multiline}\n        editable={!this.props.disableComposer}\n        onLayout={this.onLayout}\n        onChangeText={this.onChangeText}\n        style={[\n          styles.textInput,\n          this.props.textInputStyle,\n          {\n            height: this.props.composerHeight,\n            ...Platform.select({\n              web: {\n                outlineWidth: 0,\n                outlineColor: 'transparent',\n                outlineOffset: 0,\n              },\n            }),\n          },\n        ]}\n        autoFocus={this.props.textInputAutoFocus}\n        value={this.props.text}\n        enablesReturnKeyAutomatically\n        underlineColorAndroid='transparent'\n        keyboardAppearance={this.props.keyboardAppearance}\n        {...this.props.textInputProps}\n      />\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport {\n  StyleSheet,\n  Text,\n  View,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n  TextProps,\n} from 'react-native'\nimport dayjs from 'dayjs'\n\nimport Color from './Color'\n\nimport { StylePropType, isSameDay } from './utils'\nimport { DATE_FORMAT } from './Constant'\nimport { IMessage } from './Models'\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 5,\n    marginBottom: 10,\n  },\n  text: {\n    backgroundColor: Color.backgroundTransparent,\n    color: Color.defaultColor,\n    fontSize: 12,\n    fontWeight: '600',\n  },\n})\n\nexport interface DayProps<TMessage extends IMessage> {\n  currentMessage?: TMessage\n  nextMessage?: TMessage\n  previousMessage?: TMessage\n  containerStyle?: StyleProp<ViewStyle>\n  wrapperStyle?: StyleProp<ViewStyle>\n  textStyle?: StyleProp<TextStyle>\n  textProps?: TextProps\n  dateFormat?: string\n  inverted?: boolean\n}\n\nexport default class Day<\n  TMessage extends IMessage = IMessage\n> extends PureComponent<DayProps<TMessage>> {\n  static contextTypes = {\n    getLocale: PropTypes.func,\n  }\n\n  static defaultProps = {\n    currentMessage: {\n      createdAt: null,\n    },\n    previousMessage: {},\n    nextMessage: {},\n    containerStyle: {},\n    wrapperStyle: {},\n    textStyle: {},\n    textProps: {},\n    dateFormat: DATE_FORMAT,\n  }\n\n  static propTypes = {\n    currentMessage: PropTypes.object,\n    previousMessage: PropTypes.object,\n    nextMessage: PropTypes.object,\n    inverted: PropTypes.bool,\n    containerStyle: StylePropType,\n    wrapperStyle: StylePropType,\n    textStyle: StylePropType,\n    textProps: PropTypes.object,\n    dateFormat: PropTypes.string,\n  }\n\n  render() {\n    const {\n      dateFormat,\n      currentMessage,\n      previousMessage,\n      containerStyle,\n      wrapperStyle,\n      textStyle,\n      textProps,\n    } = this.props\n\n    if (currentMessage && !isSameDay(currentMessage, previousMessage!)) {\n      return (\n        <View style={[styles.container, containerStyle]}>\n          <View style={wrapperStyle}>\n            <Text style={[styles.text, textStyle]} {...textProps}>\n              {dayjs(currentMessage.createdAt)\n                .locale(this.context.getLocale())\n                .format(dateFormat)}\n            </Text>\n          </View>\n        </View>\n      )\n    }\n    return null\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n  TouchableOpacityProps,\n} from 'react-native'\nimport Color from './Color'\nimport { IMessage } from './Models'\nimport { StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  container: {\n    height: 44,\n    justifyContent: 'flex-end',\n  },\n  text: {\n    color: Color.defaultBlue,\n    fontWeight: '600',\n    fontSize: 17,\n    backgroundColor: Color.backgroundTransparent,\n    marginBottom: 12,\n    marginLeft: 10,\n    marginRight: 10,\n  },\n})\n\nexport interface SendProps<TMessage extends IMessage> {\n  text?: string\n  label?: string\n  containerStyle?: StyleProp<ViewStyle>\n  textStyle?: StyleProp<TextStyle>\n  children?: React.ReactNode\n  alwaysShowSend?: boolean\n  disabled?: boolean\n  sendButtonProps?: Partial<TouchableOpacityProps>\n  onSend?(\n    messages: Partial<TMessage> | Partial<TMessage>[],\n    shouldResetInputToolbar: boolean,\n  ): void\n}\n\nexport default class Send<\n  TMessage extends IMessage = IMessage\n> extends Component<SendProps<TMessage>> {\n  static defaultProps = {\n    text: '',\n    onSend: () => {},\n    label: 'Send',\n    containerStyle: {},\n    textStyle: {},\n    children: null,\n    alwaysShowSend: false,\n    disabled: false,\n    sendButtonProps: null,\n  }\n\n  static propTypes = {\n    text: PropTypes.string,\n    onSend: PropTypes.func,\n    label: PropTypes.string,\n    containerStyle: StylePropType,\n    textStyle: StylePropType,\n    children: PropTypes.element,\n    alwaysShowSend: PropTypes.bool,\n    disabled: PropTypes.bool,\n    sendButtonProps: PropTypes.object,\n  }\n\n  handleOnPress = () => {\n    const { text, onSend } = this.props\n    if (text && onSend) {\n      onSend({ text: text.trim() } as Partial<TMessage>, true)\n    }\n  }\n\n  render() {\n    const {\n      text,\n      containerStyle,\n      children,\n      textStyle,\n      label,\n      alwaysShowSend,\n      disabled,\n      sendButtonProps,\n    } = this.props\n    if (alwaysShowSend || (text && text.trim().length > 0)) {\n      return (\n        <TouchableOpacity\n          testID='send'\n          accessible\n          accessibilityLabel='send'\n          style={[styles.container, containerStyle]}\n          onPress={this.handleOnPress}\n          accessibilityTraits='button'\n          disabled={disabled}\n          {...sendButtonProps}\n        >\n          <View>\n            {children || <Text style={[styles.text, textStyle]}>{label}</Text>}\n          </View>\n        </TouchableOpacity>\n      )\n    }\n    return <View />\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport {\n  StyleSheet,\n  View,\n  Keyboard,\n  EmitterSubscription,\n  StyleProp,\n  ViewStyle,\n} from 'react-native'\n\nimport Composer from './Composer'\nimport Send from './Send'\nimport Actions from './Actions'\nimport Color from './Color'\nimport { StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  container: {\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: Color.defaultColor,\n    backgroundColor: Color.white,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n  primary: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n  },\n  accessory: {\n    height: 44,\n  },\n})\n\nexport interface InputToolbarProps {\n  options?: { [key: string]: any }\n  optionTintColor?: string\n  containerStyle?: StyleProp<ViewStyle>\n  primaryStyle?: StyleProp<ViewStyle>\n  accessoryStyle?: StyleProp<ViewStyle>\n  renderAccessory?(props: InputToolbarProps): React.ReactNode\n  renderActions?(props: Actions['props']): React.ReactNode\n  renderSend?(props: Send['props']): React.ReactNode\n  renderComposer?(props: Composer['props']): React.ReactNode\n  onPressActionButton?(): void\n}\n\nexport default class InputToolbar extends React.Component<\n  InputToolbarProps,\n  { position: string }\n> {\n  static defaultProps = {\n    renderAccessory: null,\n    renderActions: null,\n    renderSend: null,\n    renderComposer: null,\n    containerStyle: {},\n    primaryStyle: {},\n    accessoryStyle: {},\n    onPressActionButton: () => {},\n  }\n\n  static propTypes = {\n    renderAccessory: PropTypes.func,\n    renderActions: PropTypes.func,\n    renderSend: PropTypes.func,\n    renderComposer: PropTypes.func,\n    onPressActionButton: PropTypes.func,\n    containerStyle: StylePropType,\n    primaryStyle: StylePropType,\n    accessoryStyle: StylePropType,\n  }\n\n  state = {\n    position: 'absolute',\n  }\n\n  keyboardWillShowListener?: EmitterSubscription = undefined\n  keyboardWillHideListener?: EmitterSubscription = undefined\n\n  componentDidMount() {\n    this.keyboardWillShowListener = Keyboard.addListener(\n      'keyboardWillShow',\n      this.keyboardWillShow,\n    )\n    this.keyboardWillHideListener = Keyboard.addListener(\n      'keyboardWillHide',\n      this.keyboardWillHide,\n    )\n  }\n\n  componentWillUnmount() {\n    if (this.keyboardWillShowListener) {\n      this.keyboardWillShowListener.remove()\n    }\n    if (this.keyboardWillHideListener) {\n      this.keyboardWillHideListener.remove()\n    }\n  }\n\n  keyboardWillShow = () => {\n    if (this.state.position !== 'relative') {\n      this.setState({\n        position: 'relative',\n      })\n    }\n  }\n\n  keyboardWillHide = () => {\n    if (this.state.position !== 'absolute') {\n      this.setState({\n        position: 'absolute',\n      })\n    }\n  }\n\n  renderActions() {\n    const { containerStyle, ...props } = this.props\n    if (this.props.renderActions) {\n      return this.props.renderActions(props)\n    } else if (this.props.onPressActionButton) {\n      return <Actions {...props} />\n    }\n    return null\n  }\n\n  renderSend() {\n    if (this.props.renderSend) {\n      return this.props.renderSend(this.props)\n    }\n    return <Send {...this.props} />\n  }\n\n  renderComposer() {\n    if (this.props.renderComposer) {\n      return this.props.renderComposer(this.props)\n    }\n\n    return <Composer {...this.props} />\n  }\n\n  renderAccessory() {\n    if (this.props.renderAccessory) {\n      return (\n        <View style={[styles.accessory, this.props.accessoryStyle]}>\n          {this.props.renderAccessory(this.props)}\n        </View>\n      )\n    }\n    return null\n  }\n\n  render() {\n    return (\n      <View\n        style={\n          [\n            styles.container,\n            { position: this.state.position },\n            this.props.containerStyle,\n          ] as ViewStyle\n        }\n      >\n        <View style={[styles.primary, this.props.primaryStyle]}>\n          {this.renderActions()}\n          {this.renderComposer()}\n          {this.renderSend()}\n        </View>\n        {this.renderAccessory()}\n      </View>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport {\n  ActivityIndicator,\n  Platform,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n} from 'react-native'\nimport Color from './Color'\nimport { StylePropType } from './utils'\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    marginTop: 5,\n    marginBottom: 10,\n  },\n  wrapper: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: Color.defaultColor,\n    borderRadius: 15,\n    height: 30,\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  text: {\n    backgroundColor: Color.backgroundTransparent,\n    color: Color.white,\n    fontSize: 12,\n  },\n  activityIndicator: {\n    marginTop: Platform.select({\n      ios: -14,\n      android: -16,\n      default: -15,\n    }),\n  },\n})\n\nexport interface LoadEarlierProps {\n  isLoadingEarlier?: boolean\n  label?: string\n  containerStyle?: StyleProp<ViewStyle>\n  wrapperStyle?: StyleProp<ViewStyle>\n  textStyle?: StyleProp<TextStyle>\n  activityIndicatorStyle?: StyleProp<ViewStyle>\n  activityIndicatorColor?: string\n  activityIndicatorSize?: number | 'small' | 'large'\n  onLoadEarlier?(): void\n}\n\nexport default class LoadEarlier extends React.Component<LoadEarlierProps> {\n  static defaultProps = {\n    onLoadEarlier: () => {},\n    isLoadingEarlier: false,\n    label: 'Load earlier messages',\n    containerStyle: {},\n    wrapperStyle: {},\n    textStyle: {},\n    activityIndicatorStyle: {},\n    activityIndicatorColor: 'white',\n    activityIndicatorSize: 'small',\n  }\n\n  static propTypes = {\n    onLoadEarlier: PropTypes.func,\n    isLoadingEarlier: PropTypes.bool,\n    label: PropTypes.string,\n    containerStyle: StylePropType,\n    wrapperStyle: StylePropType,\n    textStyle: StylePropType,\n    activityIndicatorStyle: StylePropType,\n    activityIndicatorColor: PropTypes.string,\n    activityIndicatorSize: PropTypes.string,\n  }\n\n  renderLoading() {\n    if (this.props.isLoadingEarlier === false) {\n      return (\n        <Text style={[styles.text, this.props.textStyle]}>\n          {this.props.label}\n        </Text>\n      )\n    }\n    return (\n      <View>\n        <Text style={[styles.text, this.props.textStyle, { opacity: 0 }]}>\n          {this.props.label}\n        </Text>\n        <ActivityIndicator\n          color={this.props.activityIndicatorColor!}\n          size={this.props.activityIndicatorSize!}\n          style={[styles.activityIndicator, this.props.activityIndicatorStyle]}\n        />\n      </View>\n    )\n  }\n  render() {\n    return (\n      <TouchableOpacity\n        style={[styles.container, this.props.containerStyle]}\n        onPress={() => {\n          if (this.props.onLoadEarlier) {\n            this.props.onLoadEarlier()\n          }\n        }}\n        disabled={this.props.isLoadingEarlier === true}\n        accessibilityTraits='button'\n      >\n        <View style={[styles.wrapper, this.props.wrapperStyle]}>\n          {this.renderLoading()}\n        </View>\n      </TouchableOpacity>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { View, StyleSheet, ViewStyle, LayoutChangeEvent } from 'react-native'\n\nimport Avatar from './Avatar'\nimport Bubble from './Bubble'\nimport SystemMessage from './SystemMessage'\nimport Day from './Day'\n\nimport { StylePropType, isSameUser } from './utils'\nimport { IMessage, User, LeftRightStyle } from './Models'\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      justifyContent: 'flex-start',\n      marginLeft: 8,\n      marginRight: 0,\n    },\n  }),\n  right: StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      justifyContent: 'flex-end',\n      marginLeft: 0,\n      marginRight: 8,\n    },\n  }),\n}\n\nexport interface MessageProps<TMessage extends IMessage> {\n  key: any\n  showUserAvatar?: boolean\n  position: 'left' | 'right'\n  currentMessage?: TMessage\n  nextMessage?: TMessage\n  previousMessage?: TMessage\n  user: User\n  inverted?: boolean\n  containerStyle?: LeftRightStyle<ViewStyle>\n  renderBubble?(props: Bubble['props']): React.ReactNode\n  renderDay?(props: Day['props']): React.ReactNode\n  renderSystemMessage?(props: SystemMessage['props']): React.ReactNode\n  renderAvatar?(props: Avatar['props']): React.ReactNode\n  shouldUpdateMessage?(\n    props: MessageProps<IMessage>,\n    nextProps: MessageProps<IMessage>,\n  ): boolean\n  onMessageLayout?(event: LayoutChangeEvent): void\n}\n\nexport default class Message<\n  TMessage extends IMessage = IMessage\n> extends React.Component<MessageProps<TMessage>> {\n  static defaultProps = {\n    renderAvatar: undefined,\n    renderBubble: null,\n    renderDay: null,\n    renderSystemMessage: null,\n    position: 'left',\n    currentMessage: {},\n    nextMessage: {},\n    previousMessage: {},\n    user: {},\n    containerStyle: {},\n    showUserAvatar: false,\n    inverted: true,\n    shouldUpdateMessage: undefined,\n    onMessageLayout: undefined,\n  }\n\n  static propTypes = {\n    renderAvatar: PropTypes.func,\n    showUserAvatar: PropTypes.bool,\n    renderBubble: PropTypes.func,\n    renderDay: PropTypes.func,\n    renderSystemMessage: PropTypes.func,\n    position: PropTypes.oneOf(['left', 'right']),\n    currentMessage: PropTypes.object,\n    nextMessage: PropTypes.object,\n    previousMessage: PropTypes.object,\n    user: PropTypes.object,\n    inverted: PropTypes.bool,\n    containerStyle: PropTypes.shape({\n      left: StylePropType,\n      right: StylePropType,\n    }),\n    shouldUpdateMessage: PropTypes.func,\n    onMessageLayout: PropTypes.func,\n  }\n\n  shouldComponentUpdate(nextProps: MessageProps<TMessage>) {\n    const next = nextProps.currentMessage!\n    const current = this.props.currentMessage!\n    const { previousMessage, nextMessage } = this.props\n    const nextPropsMessage = nextProps.nextMessage\n    const nextPropsPreviousMessage = nextProps.previousMessage\n\n    const shouldUpdate =\n      (this.props.shouldUpdateMessage &&\n        this.props.shouldUpdateMessage(this.props, nextProps)) ||\n      false\n\n    return (\n      next.sent !== current.sent ||\n      next.received !== current.received ||\n      next.pending !== current.pending ||\n      next.createdAt !== current.createdAt ||\n      next.text !== current.text ||\n      next.image !== current.image ||\n      next.video !== current.video ||\n      next.audio !== current.audio ||\n      previousMessage !== nextPropsPreviousMessage ||\n      nextMessage !== nextPropsMessage ||\n      shouldUpdate\n    )\n  }\n\n  renderDay() {\n    if (this.props.currentMessage && this.props.currentMessage.createdAt) {\n      const { containerStyle, onMessageLayout, ...props } = this.props\n      if (this.props.renderDay) {\n        return this.props.renderDay(props)\n      }\n      return <Day {...props} />\n    }\n    return null\n  }\n\n  renderBubble() {\n    const { containerStyle, onMessageLayout, ...props } = this.props\n    if (this.props.renderBubble) {\n      return this.props.renderBubble(props)\n    }\n    // @ts-ignore\n    return <Bubble {...props} />\n  }\n\n  renderSystemMessage() {\n    const { containerStyle, onMessageLayout, ...props } = this.props\n\n    if (this.props.renderSystemMessage) {\n      return this.props.renderSystemMessage(props)\n    }\n    return <SystemMessage {...props} />\n  }\n\n  renderAvatar() {\n    const { user, currentMessage, showUserAvatar } = this.props\n\n    if (\n      user &&\n      user._id &&\n      currentMessage &&\n      currentMessage.user &&\n      user._id === currentMessage.user._id &&\n      !showUserAvatar\n    ) {\n      return null\n    }\n\n    if (\n      currentMessage &&\n      currentMessage.user &&\n      currentMessage.user.avatar === null\n    ) {\n      return null\n    }\n\n    const { containerStyle, onMessageLayout, ...props } = this.props\n    return <Avatar {...props} />\n  }\n\n  render() {\n    const {\n      currentMessage,\n      onMessageLayout,\n      nextMessage,\n      position,\n      containerStyle,\n    } = this.props\n    if (currentMessage) {\n      const sameUser = isSameUser(currentMessage, nextMessage!)\n      return (\n        <View onLayout={onMessageLayout}>\n          {this.renderDay()}\n          {currentMessage.system ? (\n            this.renderSystemMessage()\n          ) : (\n            <View\n              style={[\n                styles[position].container,\n                { marginBottom: sameUser ? 2 : 10 },\n                !this.props.inverted && { marginBottom: 2 },\n                containerStyle && containerStyle[position],\n              ]}\n            >\n              {this.props.position === 'left' ? this.renderAvatar() : null}\n              {this.renderBubble()}\n              {this.props.position === 'right' ? this.renderAvatar() : null}\n            </View>\n          )}\n        </View>\n      )\n    }\n    return null\n  }\n}\n","import { useLayoutEffect, useRef } from 'react'\n\n/**\n * A custom useEffect hook that only triggers on updates, not on initial mount\n * Idea stolen from: https://stackoverflow.com/a/55075818/1526448\n * @param {()=>void} effect the function to call\n * @param {Array<any>} dependencies the state(s) that fires the update\n */\nexport function useUpdateLayoutEffect(\n  effect: () => void,\n  dependencies: any[] = [],\n) {\n  const isInitialMount = useRef(true)\n\n  useLayoutEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false\n    } else {\n      effect()\n    }\n  }, dependencies)\n}\n","import * as React from 'react'\nimport { Animated, StyleSheet } from 'react-native'\nimport { TypingAnimation } from 'react-native-typing-animation'\nimport { useUpdateLayoutEffect } from './hooks/useUpdateLayoutEffect'\nimport Color from './Color'\n\ninterface Props {\n  isTyping?: boolean\n}\n\nconst TypingIndicator = ({ isTyping }: Props) => {\n  const { yCoords, heightScale, marginScale } = React.useMemo(\n    () => ({\n      yCoords: new Animated.Value(200),\n      heightScale: new Animated.Value(0),\n      marginScale: new Animated.Value(0),\n    }),\n    [],\n  )\n\n  // on isTyping fire side effect\n  useUpdateLayoutEffect(() => {\n    if (isTyping) {\n      slideIn()\n    } else {\n      slideOut()\n    }\n  }, [isTyping])\n\n  // side effect\n  const slideIn = () => {\n    Animated.parallel([\n      Animated.spring(yCoords, {\n        toValue: 0,\n        useNativeDriver: false,\n      }),\n      Animated.timing(heightScale, {\n        toValue: 35,\n        duration: 250,\n        useNativeDriver: false,\n      }),\n      Animated.timing(marginScale, {\n        toValue: 8,\n        duration: 250,\n        useNativeDriver: false,\n      }),\n    ]).start()\n  }\n\n  // side effect\n  const slideOut = () => {\n    Animated.parallel([\n      Animated.spring(yCoords, {\n        toValue: 200,\n        useNativeDriver: false,\n      }),\n      Animated.timing(heightScale, {\n        toValue: 0,\n        duration: 250,\n        useNativeDriver: false,\n      }),\n      Animated.timing(marginScale, {\n        toValue: 0,\n        duration: 250,\n        useNativeDriver: false,\n      }),\n    ]).start()\n  }\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        {\n          transform: [\n            {\n              translateY: yCoords,\n            },\n          ],\n          height: heightScale,\n          marginBottom: marginScale,\n        },\n      ]}\n    >\n      {isTyping ? (\n        <TypingAnimation\n          style={{ marginLeft: 6, marginTop: 7.2 }}\n          dotRadius={4}\n          dotMargin={5.5}\n          dotColor={'rgba(0, 0, 0, 0.38)'}\n        />\n      ) : null}\n    </Animated.View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginLeft: 8,\n    width: 45,\n    borderRadius: 15,\n    backgroundColor: Color.leftBubbleBackground,\n  },\n})\n\nexport default TypingIndicator\n","import PropTypes from 'prop-types'\nimport React, { RefObject } from 'react'\n\nimport {\n  FlatList,\n  View,\n  StyleSheet,\n  TouchableOpacity,\n  Text,\n  ListViewProps,\n  ListRenderItemInfo,\n  NativeSyntheticEvent,\n  NativeScrollEvent,\n  StyleProp,\n  ViewStyle,\n  Platform,\n} from 'react-native'\n\nimport LoadEarlier from './LoadEarlier'\nimport Message from './Message'\nimport Color from './Color'\nimport { User, IMessage, Reply } from './Models'\nimport { warning, StylePropType } from './utils'\nimport TypingIndicator from './TypingIndicator'\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  containerAlignTop: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n  },\n  contentContainerStyle: {\n    flexGrow: 1,\n    justifyContent: 'flex-start',\n  },\n  emptyChatContainer: {\n    flex: 1,\n    transform: [{ scaleY: -1 }],\n  },\n  headerWrapper: {\n    flex: 1,\n  },\n  listStyle: {\n    flex: 1,\n  },\n  scrollToBottomStyle: {\n    opacity: 0.8,\n    position: 'absolute',\n    right: 10,\n    bottom: 30,\n    zIndex: 999,\n    height: 40,\n    width: 40,\n    borderRadius: 20,\n    backgroundColor: Color.white,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: Color.black,\n    shadowOpacity: 0.5,\n    shadowOffset: { width: 0, height: 0 },\n    shadowRadius: 1,\n  },\n})\n\nexport interface MessageContainerProps<TMessage extends IMessage> {\n  messages?: TMessage[]\n  isTyping?: boolean\n  user?: User\n  listViewProps: Partial<ListViewProps>\n  inverted?: boolean\n  loadEarlier?: boolean\n  alignTop?: boolean\n  scrollToBottom?: boolean\n  scrollToBottomStyle?: StyleProp<ViewStyle>\n  invertibleScrollViewProps?: any\n  extraData?: any\n  scrollToBottomOffset?: number\n  forwardRef?: RefObject<FlatList<IMessage>>\n  renderChatEmpty?(): React.ReactNode\n  renderFooter?(props: MessageContainerProps<TMessage>): React.ReactNode\n  renderMessage?(props: Message['props']): React.ReactNode\n  renderLoadEarlier?(props: LoadEarlier['props']): React.ReactNode\n  scrollToBottomComponent?(): React.ReactNode\n  onLoadEarlier?(): void\n  onQuickReply?(replies: Reply[]): void\n  infiniteScroll?: boolean\n  isLoadingEarlier?: boolean\n}\n\ninterface State {\n  showScrollBottom: boolean\n}\n\nexport default class MessageContainer<\n  TMessage extends IMessage = IMessage\n> extends React.PureComponent<MessageContainerProps<TMessage>, State> {\n  static defaultProps = {\n    messages: [],\n    user: {},\n    isTyping: false,\n    renderChatEmpty: null,\n    renderFooter: null,\n    renderMessage: null,\n    onLoadEarlier: () => {},\n    onQuickReply: () => {},\n    inverted: true,\n    loadEarlier: false,\n    listViewProps: {},\n    invertibleScrollViewProps: {},\n    extraData: null,\n    scrollToBottom: false,\n    scrollToBottomOffset: 200,\n    alignTop: false,\n    scrollToBottomStyle: {},\n    infiniteScroll: false,\n    isLoadingEarlier: false,\n  }\n\n  static propTypes = {\n    messages: PropTypes.arrayOf(PropTypes.object),\n    isTyping: PropTypes.bool,\n    user: PropTypes.object,\n    renderChatEmpty: PropTypes.func,\n    renderFooter: PropTypes.func,\n    renderMessage: PropTypes.func,\n    renderLoadEarlier: PropTypes.func,\n    onLoadEarlier: PropTypes.func,\n    listViewProps: PropTypes.object,\n    inverted: PropTypes.bool,\n    loadEarlier: PropTypes.bool,\n    invertibleScrollViewProps: PropTypes.object,\n    extraData: PropTypes.object,\n    scrollToBottom: PropTypes.bool,\n    scrollToBottomOffset: PropTypes.number,\n    scrollToBottomComponent: PropTypes.func,\n    alignTop: PropTypes.bool,\n    scrollToBottomStyle: StylePropType,\n    infiniteScroll: PropTypes.bool,\n  }\n\n  state = {\n    showScrollBottom: false,\n    hasScrolled: false,\n  }\n\n  renderTypingIndicator = () => {\n    if (Platform.OS === 'web') {\n      return null\n    }\n    return <TypingIndicator isTyping={this.props.isTyping || false} />\n  }\n\n  renderFooter = () => {\n    if (this.props.renderFooter) {\n      return this.props.renderFooter(this.props)\n    }\n\n    return this.renderTypingIndicator()\n  }\n\n  renderLoadEarlier = () => {\n    if (this.props.loadEarlier === true) {\n      const loadEarlierProps = {\n        ...this.props,\n      }\n      if (this.props.renderLoadEarlier) {\n        return this.props.renderLoadEarlier(loadEarlierProps)\n      }\n      return <LoadEarlier {...loadEarlierProps} />\n    }\n    return null\n  }\n\n  scrollTo(options: { animated?: boolean; offset: number }) {\n    if (this.props.forwardRef && this.props.forwardRef.current && options) {\n      this.props.forwardRef.current.scrollToOffset(options)\n    }\n  }\n\n  scrollToBottom = (animated: boolean = true) => {\n    const { inverted } = this.props\n    if (inverted) {\n      this.scrollTo({ offset: 0, animated })\n    } else if (this.props.forwardRef && this.props.forwardRef.current) {\n      this.props.forwardRef!.current!.scrollToEnd({ animated })\n    }\n  }\n\n  handleOnScroll = (event: NativeSyntheticEvent<NativeScrollEvent>) => {\n    const {\n      nativeEvent: {\n        contentOffset: { y: contentOffsetY },\n        contentSize: { height: contentSizeHeight },\n        layoutMeasurement: { height: layoutMeasurementHeight },\n      },\n    } = event\n    const { scrollToBottomOffset } = this.props\n    if (this.props.inverted) {\n      if (contentOffsetY > scrollToBottomOffset!) {\n        this.setState({ showScrollBottom: true, hasScrolled: true })\n      } else {\n        this.setState({ showScrollBottom: false, hasScrolled: true })\n      }\n    } else {\n      if (\n        contentOffsetY < scrollToBottomOffset! &&\n        contentSizeHeight - layoutMeasurementHeight > scrollToBottomOffset!\n      ) {\n        this.setState({ showScrollBottom: true, hasScrolled: true })\n      } else {\n        this.setState({ showScrollBottom: false, hasScrolled: true })\n      }\n    }\n  }\n\n  renderRow = ({ item, index }: ListRenderItemInfo<TMessage>) => {\n    if (!item._id && item._id !== 0) {\n      warning('GiftedChat: `_id` is missing for message', JSON.stringify(item))\n    }\n    if (!item.user) {\n      if (!item.system) {\n        warning(\n          'GiftedChat: `user` is missing for message',\n          JSON.stringify(item),\n        )\n      }\n      item.user = { _id: 0 }\n    }\n    const { messages, user, inverted, ...restProps } = this.props\n    if (messages && user) {\n      const previousMessage =\n        (inverted ? messages[index + 1] : messages[index - 1]) || {}\n      const nextMessage =\n        (inverted ? messages[index - 1] : messages[index + 1]) || {}\n\n      const messageProps: Message['props'] = {\n        ...restProps,\n        user,\n        key: item._id,\n        currentMessage: item,\n        previousMessage,\n        inverted,\n        nextMessage,\n        position: item.user._id === user._id ? 'right' : 'left',\n      }\n\n      if (this.props.renderMessage) {\n        return this.props.renderMessage(messageProps)\n      }\n      return <Message {...messageProps} />\n    }\n    return null\n  }\n\n  renderChatEmpty = () => {\n    if (this.props.renderChatEmpty) {\n      return this.props.inverted ? (\n        this.props.renderChatEmpty()\n      ) : (\n        <View style={styles.emptyChatContainer}>\n          {this.props.renderChatEmpty()}\n        </View>\n      )\n    }\n    return <View style={styles.container} />\n  }\n\n  renderHeaderWrapper = () => (\n    <View style={styles.headerWrapper}>{this.renderLoadEarlier()}</View>\n  )\n\n  renderScrollBottomComponent() {\n    const { scrollToBottomComponent } = this.props\n\n    if (scrollToBottomComponent) {\n      return scrollToBottomComponent()\n    }\n\n    return <Text>V</Text>\n  }\n\n  renderScrollToBottomWrapper() {\n    const propsStyle = this.props.scrollToBottomStyle || {}\n    return (\n      <View style={[styles.scrollToBottomStyle, propsStyle]}>\n        <TouchableOpacity\n          onPress={() => this.scrollToBottom()}\n          hitSlop={{ top: 5, left: 5, right: 5, bottom: 5 }}\n        >\n          {this.renderScrollBottomComponent()}\n        </TouchableOpacity>\n      </View>\n    )\n  }\n\n  onLayoutList = () => {\n    if (\n      !this.props.inverted &&\n      !!this.props.messages &&\n      this.props.messages!.length\n    ) {\n      setTimeout(\n        () => this.scrollToBottom && this.scrollToBottom(false),\n        15 * this.props.messages!.length,\n      )\n    }\n  }\n\n  onEndReached = ({ distanceFromEnd }: { distanceFromEnd: number }) => {\n    const {\n      loadEarlier,\n      onLoadEarlier,\n      infiniteScroll,\n      isLoadingEarlier,\n    } = this.props\n    if (\n      infiniteScroll &&\n      (this.state.hasScrolled || distanceFromEnd > 0) &&\n      distanceFromEnd <= 100 &&\n      loadEarlier &&\n      onLoadEarlier &&\n      !isLoadingEarlier &&\n      Platform.OS !== 'web'\n    ) {\n      onLoadEarlier()\n    }\n  }\n\n  keyExtractor = (item: TMessage) => `${item._id}`\n\n  render() {\n    const { inverted } = this.props\n    return (\n      <View\n        style={\n          this.props.alignTop ? styles.containerAlignTop : styles.container\n        }\n      >\n        {this.state.showScrollBottom && this.props.scrollToBottom\n          ? this.renderScrollToBottomWrapper()\n          : null}\n        <FlatList\n          ref={this.props.forwardRef}\n          extraData={[this.props.extraData, this.props.isTyping]}\n          keyExtractor={this.keyExtractor}\n          enableEmptySections\n          automaticallyAdjustContentInsets={false}\n          inverted={inverted}\n          data={this.props.messages}\n          style={styles.listStyle}\n          contentContainerStyle={styles.contentContainerStyle}\n          renderItem={this.renderRow}\n          {...this.props.invertibleScrollViewProps}\n          ListEmptyComponent={this.renderChatEmpty}\n          ListFooterComponent={\n            inverted ? this.renderHeaderWrapper : this.renderFooter\n          }\n          ListHeaderComponent={\n            inverted ? this.renderFooter : this.renderHeaderWrapper\n          }\n          onScroll={this.handleOnScroll}\n          scrollEventThrottle={100}\n          onLayout={this.onLayoutList}\n          onEndReached={this.onEndReached}\n          onEndReachedThreshold={0.1}\n          {...this.props.listViewProps}\n        />\n      </View>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { RefObject } from 'react'\nimport {\n  Animated,\n  Platform,\n  StyleSheet,\n  View,\n  StyleProp,\n  ViewStyle,\n  SafeAreaView,\n  FlatList,\n  TextStyle,\n  KeyboardAvoidingView,\n} from 'react-native'\nimport {\n  ActionSheetProvider,\n  ActionSheetOptions,\n} from '@expo/react-native-action-sheet'\nimport uuid from 'uuid'\nimport { getBottomSpace } from 'react-native-iphone-x-helper'\nimport dayjs from 'dayjs'\nimport localizedFormat from 'dayjs/plugin/localizedFormat'\n\nimport * as utils from './utils'\nimport Actions from './Actions'\nimport Avatar from './Avatar'\nimport Bubble from './Bubble'\nimport SystemMessage from './SystemMessage'\nimport MessageImage from './MessageImage'\nimport MessageText from './MessageText'\nimport Composer from './Composer'\nimport Day from './Day'\nimport InputToolbar from './InputToolbar'\nimport LoadEarlier from './LoadEarlier'\nimport Message from './Message'\nimport MessageContainer from './MessageContainer'\nimport Send from './Send'\nimport Time from './Time'\nimport GiftedAvatar from './GiftedAvatar'\n\nimport {\n  MIN_COMPOSER_HEIGHT,\n  MAX_COMPOSER_HEIGHT,\n  DEFAULT_PLACEHOLDER,\n  TIME_FORMAT,\n  DATE_FORMAT,\n} from './Constant'\nimport {\n  IMessage,\n  User,\n  Reply,\n  LeftRightStyle,\n  MessageVideoProps,\n  MessageAudioProps,\n} from './Models'\nimport QuickReplies from './QuickReplies'\n\ndayjs.extend(localizedFormat)\n\nexport interface GiftedChatProps<TMessage extends IMessage = IMessage> {\n  /* Messages to display */\n  messages?: TMessage[]\n  /* Typing Indicator state */\n  isTyping?: boolean\n  /* Messages container style */\n  messagesContainerStyle?: StyleProp<ViewStyle>\n  /* Input text; default is undefined, but if specified, it will override GiftedChat's internal state */\n  text?: string\n  /* Controls whether or not the message bubbles appear at the top of the chat */\n  alignTop?: boolean\n  /* Determine whether is wrapped in a SafeAreaView */\n  wrapInSafeArea?: boolean\n  /* enables the scrollToBottom Component */\n  scrollToBottom?: boolean\n  /* Scroll to bottom wrapper style */\n  scrollToBottomStyle?: StyleProp<ViewStyle>\n  initialText?: string\n  /* Placeholder when text is empty; default is 'Type a message...' */\n  placeholder?: string\n  /* Makes the composer not editable*/\n  disableComposer?: boolean\n  /* User sending the messages: { _id, name, avatar } */\n  user?: User\n  /*  Locale to localize the dates */\n  locale?: string\n  /* Format to use for rendering times; default is 'LT' */\n  timeFormat?: string\n  /* Format to use for rendering dates; default is 'll' */\n  dateFormat?: string\n  /* Enables the \"Load earlier messages\" button */\n  loadEarlier?: boolean\n  /*Display an ActivityIndicator when loading earlier messages*/\n  isLoadingEarlier?: boolean\n  /* Whether to render an avatar for the current user; default is false, only show avatars for other users */\n  showUserAvatar?: boolean\n  /* When false, avatars will only be displayed when a consecutive message is from the same user on the same day; default is false */\n  showAvatarForEveryMessage?: boolean\n  /* Render the message avatar at the top of consecutive messages, rather than the bottom; default is false */\n  isKeyboardInternallyHandled?: boolean\n  /* Determine whether to handle keyboard awareness inside the plugin. If you have your own keyboard handling outside the plugin set this to false; default is true */\n  renderAvatarOnTop?: boolean\n  inverted?: boolean\n  /* Extra props to be passed to the <Image> component created by the default renderMessageImage */\n  imageProps?: Message<TMessage>['props']\n  /*Extra props to be passed to the MessageImage's Lightbox */\n  lightboxProps?: any\n  /*Distance of the chat from the bottom of the screen (e.g. useful if you display a tab bar) */\n  bottomOffset?: number\n  /* Minimum height of the input toolbar; default is 44 */\n  minInputToolbarHeight?: number\n  /*Extra props to be passed to the messages <ListView>; some props can't be overridden, see the code in MessageContainer.render() for details */\n  listViewProps?: any\n  /*  Extra props to be passed to the <TextInput> */\n  textInputProps?: any\n  /*Determines whether the keyboard should stay visible after a tap; see <ScrollView> docs */\n  keyboardShouldPersistTaps?: any\n  /*Max message composer TextInput length */\n  maxInputLength?: number\n  /* Force getting keyboard height to fix some display issues */\n  forceGetKeyboardHeight?: boolean\n  /* Force send button */\n  alwaysShowSend?: boolean\n  /* Image style */\n  imageStyle?: StyleProp<ViewStyle>\n  /* This can be used to pass any data which needs to be re-rendered */\n  extraData?: any\n  /* composer min Height */\n  minComposerHeight?: number\n  /* composer min Height */\n  maxComposerHeight?: number\n  options?: { [key: string]: any }\n  optionTintColor?: string\n  quickReplyStyle?: StyleProp<ViewStyle>\n  /* optional prop used to place customView below text, image and video views; default is false */\n  isCustomViewBottom?: boolean\n  /* infinite scroll up when reach the top of messages container, automatically call onLoadEarlier function if exist */\n  infiniteScroll?: boolean\n  timeTextStyle?: LeftRightStyle<TextStyle>\n  /* Custom action sheet */\n  actionSheet?(): {\n    showActionSheetWithOptions: (\n      options: ActionSheetOptions,\n      callback: (i: number) => void,\n    ) => void\n  }\n  /* Callback when a message avatar is tapped */\n  onPressAvatar?(user: User): void\n  /* Callback when a message avatar is tapped */\n  onLongPressAvatar?(user: User): void\n  /* Generate an id for new messages. Defaults to UUID v4, generated by uuid */\n  messageIdGenerator?(message?: TMessage): string\n  /* Callback when sending a message */\n  onSend?(messages: TMessage[]): void\n  /*Callback when loading earlier messages*/\n  onLoadEarlier?(): void\n  /*  Render a loading view when initializing */\n  renderLoading?(): React.ReactNode\n  /* Custom \"Load earlier messages\" button */\n  renderLoadEarlier?(props: LoadEarlier['props']): React.ReactNode\n  /* Custom message avatar; set to null to not render any avatar for the message */\n  renderAvatar?(props: Avatar<TMessage>['props']): React.ReactNode | null\n  /* Custom message bubble */\n  renderBubble?(props: Bubble<TMessage>['props']): React.ReactNode\n  /*Custom system message */\n  renderSystemMessage?(props: SystemMessage<TMessage>['props']): React.ReactNode\n  /* Callback when a message bubble is long-pressed; default is to show an ActionSheet with \"Copy Text\" (see example using showActionSheetWithOptions()) */\n  onLongPress?(context: any, message: any): void\n  /* Reverses display order of messages; default is true */\n  /*Custom message container */\n  renderMessage?(message: Message<TMessage>['props']): React.ReactNode\n  /* Custom message text */\n  renderMessageText?(\n    messageText: MessageText<TMessage>['props'],\n  ): React.ReactNode\n  /* Custom message image */\n  renderMessageImage?(props: MessageImage<TMessage>['props']): React.ReactNode\n  /* Custom message video */\n  renderMessageVideo?(props: MessageVideoProps<TMessage>): React.ReactNode\n  /* Custom message video */\n  renderMessageAudio?(props: MessageAudioProps<TMessage>): React.ReactNode\n  /* Custom view inside the bubble */\n  renderCustomView?(props: Bubble<TMessage>['props']): React.ReactNode\n  /*Custom day above a message*/\n  renderDay?(props: Day<TMessage>['props']): React.ReactNode\n  /* Custom time inside a message */\n  renderTime?(props: Time<TMessage>['props']): React.ReactNode\n  /* Custom footer component on the ListView, e.g. 'User is typing...' */\n  renderFooter?(): React.ReactNode\n  /* Custom component to render in the ListView when messages are empty */\n  renderChatEmpty?(): React.ReactNode\n  /* Custom component to render below the MessageContainer (separate from the ListView) */\n  renderChatFooter?(): React.ReactNode\n  /* Custom message composer container */\n  renderInputToolbar?(props: InputToolbar['props']): React.ReactNode\n  /*  Custom text input message composer */\n  renderComposer?(props: Composer['props']): React.ReactNode\n  /* Custom action button on the left of the message composer */\n  renderActions?(props: Actions['props']): React.ReactNode\n  /* Custom send button; you can pass children to the original Send component quite easily, for example to use a custom icon (example) */\n  renderSend?(props: Send['props']): React.ReactNode\n  /*Custom second line of actions below the message composer */\n  renderAccessory?(props: InputToolbar['props']): React.ReactNode\n  /*Callback when the Action button is pressed (if set, the default actionSheet will not be used) */\n  onPressActionButton?(): void\n  /* Callback when the input text changes */\n  onInputTextChanged?(text: string): void\n  /* Custom parse patterns for react-native-parsed-text used to linking message content (like URLs and phone numbers) */\n  parsePatterns?(linkStyle: TextStyle): any\n  onQuickReply?(replies: Reply[]): void\n  renderQuickReplies?(quickReplies: QuickReplies['props']): React.ReactNode\n  renderQuickReplySend?(): React.ReactNode\n  /* Scroll to bottom custom component */\n  scrollToBottomComponent?(): React.ReactNode\n  shouldUpdateMessage?(\n    props: Message<TMessage>['props'],\n    nextProps: Message<TMessage>['props'],\n  ): boolean\n}\n\nexport interface GiftedChatState<TMessage extends IMessage = IMessage> {\n  isInitialized: boolean\n  composerHeight?: number\n  messagesContainerHeight?: number | Animated.Value\n  typingDisabled: boolean\n  text?: string\n  messages?: TMessage[]\n}\n\nclass GiftedChat<TMessage extends IMessage = IMessage> extends React.Component<\n  GiftedChatProps<TMessage>,\n  GiftedChatState\n> {\n  static childContextTypes = {\n    actionSheet: PropTypes.func,\n    getLocale: PropTypes.func,\n  }\n\n  static defaultProps = {\n    messages: [],\n    messagesContainerStyle: undefined,\n    text: undefined,\n    placeholder: DEFAULT_PLACEHOLDER,\n    disableComposer: false,\n    messageIdGenerator: () => uuid.v4(),\n    user: {},\n    onSend: () => {},\n    locale: null,\n    timeFormat: TIME_FORMAT,\n    dateFormat: DATE_FORMAT,\n    loadEarlier: false,\n    onLoadEarlier: () => {},\n    isLoadingEarlier: false,\n    renderLoading: null,\n    renderLoadEarlier: null,\n    renderAvatar: undefined,\n    showUserAvatar: false,\n    actionSheet: null,\n    onPressAvatar: null,\n    onLongPressAvatar: null,\n    renderUsernameOnMessage: false,\n    renderAvatarOnTop: false,\n    renderBubble: null,\n    renderSystemMessage: null,\n    onLongPress: null,\n    renderMessage: null,\n    renderMessageText: null,\n    renderMessageImage: null,\n    renderMessageVideo: null,\n    renderMessageAudio: null,\n    imageProps: {},\n    videoProps: {},\n    audioProps: {},\n    lightboxProps: {},\n    textInputProps: {},\n    listViewProps: {},\n    renderCustomView: null,\n    isCustomViewBottom: false,\n    renderDay: null,\n    renderTime: null,\n    renderFooter: null,\n    renderChatEmpty: null,\n    renderChatFooter: null,\n    renderInputToolbar: null,\n    renderComposer: null,\n    renderActions: null,\n    renderSend: null,\n    renderAccessory: null,\n    isKeyboardInternallyHandled: true,\n    onPressActionButton: null,\n    bottomOffset: null,\n    minInputToolbarHeight: 44,\n    keyboardShouldPersistTaps: Platform.select({\n      ios: 'never',\n      android: 'always',\n      default: 'never',\n    }),\n    onInputTextChanged: null,\n    maxInputLength: null,\n    forceGetKeyboardHeight: false,\n    inverted: true,\n    extraData: null,\n    minComposerHeight: MIN_COMPOSER_HEIGHT,\n    maxComposerHeight: MAX_COMPOSER_HEIGHT,\n    wrapInSafeArea: true,\n  }\n\n  static propTypes = {\n    messages: PropTypes.arrayOf(PropTypes.object),\n    messagesContainerStyle: utils.StylePropType,\n    text: PropTypes.string,\n    initialText: PropTypes.string,\n    placeholder: PropTypes.string,\n    disableComposer: PropTypes.bool,\n    messageIdGenerator: PropTypes.func,\n    user: PropTypes.object,\n    onSend: PropTypes.func,\n    locale: PropTypes.string,\n    timeFormat: PropTypes.string,\n    dateFormat: PropTypes.string,\n    isKeyboardInternallyHandled: PropTypes.bool,\n    loadEarlier: PropTypes.bool,\n    onLoadEarlier: PropTypes.func,\n    isLoadingEarlier: PropTypes.bool,\n    renderLoading: PropTypes.func,\n    renderLoadEarlier: PropTypes.func,\n    renderAvatar: PropTypes.func,\n    showUserAvatar: PropTypes.bool,\n    actionSheet: PropTypes.func,\n    onPressAvatar: PropTypes.func,\n    onLongPressAvatar: PropTypes.func,\n    renderUsernameOnMessage: PropTypes.bool,\n    renderAvatarOnTop: PropTypes.bool,\n    isCustomViewBottom: PropTypes.bool,\n    renderBubble: PropTypes.func,\n    renderSystemMessage: PropTypes.func,\n    onLongPress: PropTypes.func,\n    renderMessage: PropTypes.func,\n    renderMessageText: PropTypes.func,\n    renderMessageImage: PropTypes.func,\n    imageProps: PropTypes.object,\n    videoProps: PropTypes.object,\n    audioProps: PropTypes.object,\n    lightboxProps: PropTypes.object,\n    renderCustomView: PropTypes.func,\n    renderDay: PropTypes.func,\n    renderTime: PropTypes.func,\n    renderFooter: PropTypes.func,\n    renderChatEmpty: PropTypes.func,\n    renderChatFooter: PropTypes.func,\n    renderInputToolbar: PropTypes.func,\n    renderComposer: PropTypes.func,\n    renderActions: PropTypes.func,\n    renderSend: PropTypes.func,\n    renderAccessory: PropTypes.func,\n    onPressActionButton: PropTypes.func,\n    bottomOffset: PropTypes.number,\n    minInputToolbarHeight: PropTypes.number,\n    listViewProps: PropTypes.object,\n    keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\n    onInputTextChanged: PropTypes.func,\n    maxInputLength: PropTypes.number,\n    forceGetKeyboardHeight: PropTypes.bool,\n    inverted: PropTypes.bool,\n    textInputProps: PropTypes.object,\n    extraData: PropTypes.object,\n    minComposerHeight: PropTypes.number,\n    maxComposerHeight: PropTypes.number,\n    alignTop: PropTypes.bool,\n    wrapInSafeArea: PropTypes.bool,\n  }\n\n  static append<TMessage extends IMessage>(\n    currentMessages: TMessage[] = [],\n    messages: TMessage[],\n    inverted = true,\n  ) {\n    if (!Array.isArray(messages)) {\n      messages = [messages]\n    }\n    return inverted\n      ? messages.concat(currentMessages)\n      : currentMessages.concat(messages)\n  }\n\n  static prepend<TMessage extends IMessage>(\n    currentMessages: TMessage[] = [],\n    messages: TMessage[],\n    inverted = true,\n  ) {\n    if (!Array.isArray(messages)) {\n      messages = [messages]\n    }\n    return inverted\n      ? currentMessages.concat(messages)\n      : messages.concat(currentMessages)\n  }\n\n  _isMounted: boolean = false\n  _keyboardHeight: number = 0\n  _bottomOffset: number = 0\n  _maxHeight?: number = undefined\n  _isFirstLayout: boolean = true\n  _locale: string = 'en'\n  invertibleScrollViewProps: any = undefined\n  _actionSheetRef: any = undefined\n  _messageContainerRef?: RefObject<FlatList<IMessage>> = React.createRef()\n  _isTextInputWasFocused: boolean = false\n  textInput?: any\n\n  state = {\n    isInitialized: false, // initialization will calculate maxHeight before rendering the chat\n    composerHeight: this.props.minComposerHeight,\n    messagesContainerHeight: undefined,\n    typingDisabled: false,\n    text: undefined,\n    messages: undefined,\n  }\n\n  constructor(props: GiftedChatProps<TMessage>) {\n    super(props)\n\n    this.invertibleScrollViewProps = {\n      inverted: this.props.inverted,\n      keyboardShouldPersistTaps: this.props.keyboardShouldPersistTaps,\n      onKeyboardWillShow: this.onKeyboardWillShow,\n      onKeyboardWillHide: this.onKeyboardWillHide,\n      onKeyboardDidShow: this.onKeyboardDidShow,\n      onKeyboardDidHide: this.onKeyboardDidHide,\n    }\n  }\n\n  getChildContext() {\n    return {\n      actionSheet:\n        this.props.actionSheet || (() => this._actionSheetRef.getContext()),\n      getLocale: this.getLocale,\n    }\n  }\n\n  componentDidMount() {\n    const { messages, text } = this.props\n    this.setIsMounted(true)\n    this.initLocale()\n    this.setMessages(messages || [])\n    this.setTextFromProp(text)\n  }\n\n  componentWillUnmount() {\n    this.setIsMounted(false)\n  }\n\n  componentDidUpdate(prevProps: GiftedChatProps<TMessage> = {}) {\n    const { messages, text, inverted } = this.props\n\n    if (this.props !== prevProps) {\n      this.setMessages(messages || [])\n    }\n\n    if (\n      inverted === false &&\n      messages &&\n      prevProps.messages &&\n      messages.length !== prevProps.messages.length\n    ) {\n      setTimeout(() => this.scrollToBottom(false), 200)\n    }\n\n    if (text !== prevProps.text) {\n      this.setTextFromProp(text)\n    }\n  }\n\n  initLocale() {\n    if (this.props.locale === null) {\n      this.setLocale('en')\n    } else {\n      this.setLocale(this.props.locale || 'en')\n    }\n  }\n\n  setLocale(locale: string) {\n    this._locale = locale\n  }\n\n  getLocale = () => this._locale\n\n  setTextFromProp(textProp?: string) {\n    // Text prop takes precedence over state.\n    if (textProp !== undefined && textProp !== this.state.text) {\n      this.setState({ text: textProp })\n    }\n  }\n\n  getTextFromProp(fallback: string) {\n    if (this.props.text === undefined) {\n      return fallback\n    }\n    return this.props.text\n  }\n\n  setMessages(messages: TMessage[]) {\n    this.setState({ messages })\n  }\n\n  getMessages() {\n    return this.state.messages\n  }\n\n  setMaxHeight(height: number) {\n    this._maxHeight = height\n  }\n\n  getMaxHeight() {\n    return this._maxHeight\n  }\n\n  setKeyboardHeight(height: number) {\n    this._keyboardHeight = height\n  }\n\n  getKeyboardHeight() {\n    if (Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n      // For android: on-screen keyboard resized main container and has own height.\n      // @see https://developer.android.com/training/keyboard-input/visibility.html\n      // So for calculate the messages container height ignore keyboard height.\n      return 0\n    }\n    return this._keyboardHeight\n  }\n\n  setBottomOffset(value: number) {\n    this._bottomOffset = value\n  }\n\n  getBottomOffset() {\n    return this._bottomOffset\n  }\n\n  setIsFirstLayout(value: boolean) {\n    this._isFirstLayout = value\n  }\n\n  getIsFirstLayout() {\n    return this._isFirstLayout\n  }\n\n  setIsTypingDisabled(value: boolean) {\n    this.setState({\n      typingDisabled: value,\n    })\n  }\n\n  getIsTypingDisabled() {\n    return this.state.typingDisabled\n  }\n\n  setIsMounted(value: boolean) {\n    this._isMounted = value\n  }\n\n  getIsMounted() {\n    return this._isMounted\n  }\n\n  getMinInputToolbarHeight() {\n    return this.props.renderAccessory\n      ? this.props.minInputToolbarHeight! * 2\n      : this.props.minInputToolbarHeight\n  }\n\n  calculateInputToolbarHeight(composerHeight: number) {\n    return (\n      composerHeight +\n      (this.getMinInputToolbarHeight()! - this.props.minComposerHeight!)\n    )\n  }\n\n  /**\n   * Returns the height, based on current window size, without taking the keyboard into account.\n   */\n  getBasicMessagesContainerHeight(composerHeight = this.state.composerHeight) {\n    return (\n      this.getMaxHeight()! - this.calculateInputToolbarHeight(composerHeight!)\n    )\n  }\n\n  /**\n   * Returns the height, based on current window size, taking the keyboard into account.\n   */\n  getMessagesContainerHeightWithKeyboard(\n    composerHeight = this.state.composerHeight,\n  ) {\n    return (\n      this.getBasicMessagesContainerHeight(composerHeight) -\n      this.getKeyboardHeight() +\n      this.getBottomOffset()\n    )\n  }\n\n  safeAreaSupport = (bottomOffset?: number) => {\n    return bottomOffset != null ? bottomOffset : getBottomSpace()\n  }\n\n  /**\n   * Store text input focus status when keyboard hide to retrieve\n   * it after wards if needed.\n   * `onKeyboardWillHide` may be called twice in sequence so we\n   * make a guard condition (eg. showing image picker)\n   */\n  handleTextInputFocusWhenKeyboardHide() {\n    if (!this._isTextInputWasFocused) {\n      this._isTextInputWasFocused = this.textInput?.isFocused() || false\n    }\n  }\n\n  /**\n   * Refocus the text input only if it was focused before showing keyboard.\n   * This is needed in some cases (eg. showing image picker).\n   */\n  handleTextInputFocusWhenKeyboardShow() {\n    if (\n      this.textInput &&\n      this._isTextInputWasFocused &&\n      !this.textInput.isFocused()\n    ) {\n      this.textInput.focus()\n    }\n\n    // Reset the indicator since the keyboard is shown\n    this._isTextInputWasFocused = false\n  }\n\n  onKeyboardWillShow = (e: any) => {\n    this.handleTextInputFocusWhenKeyboardShow()\n\n    if (this.props.isKeyboardInternallyHandled) {\n      this.setIsTypingDisabled(true)\n      this.setKeyboardHeight(\n        e.endCoordinates ? e.endCoordinates.height : e.end.height,\n      )\n      this.setBottomOffset(this.safeAreaSupport(this.props.bottomOffset))\n      const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard()\n      this.setState({\n        messagesContainerHeight: newMessagesContainerHeight,\n      })\n    }\n  }\n\n  onKeyboardWillHide = (_e: any) => {\n    this.handleTextInputFocusWhenKeyboardHide()\n\n    if (this.props.isKeyboardInternallyHandled) {\n      this.setIsTypingDisabled(true)\n      this.setKeyboardHeight(0)\n      this.setBottomOffset(0)\n      const newMessagesContainerHeight = this.getBasicMessagesContainerHeight()\n      this.setState({\n        messagesContainerHeight: newMessagesContainerHeight,\n      })\n    }\n  }\n\n  onKeyboardDidShow = (e: any) => {\n    if (Platform.OS === 'android') {\n      this.onKeyboardWillShow(e)\n    }\n    this.setIsTypingDisabled(false)\n  }\n\n  onKeyboardDidHide = (e: any) => {\n    if (Platform.OS === 'android') {\n      this.onKeyboardWillHide(e)\n    }\n    this.setIsTypingDisabled(false)\n  }\n\n  scrollToBottom(animated = true) {\n    if (this._messageContainerRef && this._messageContainerRef.current) {\n      const { inverted } = this.props\n      if (!inverted) {\n        this._messageContainerRef.current.scrollToEnd({ animated })\n      } else {\n        this._messageContainerRef.current.scrollToOffset({\n          offset: 0,\n          animated,\n        })\n      }\n    }\n  }\n\n  renderMessages() {\n    const { messagesContainerStyle, ...messagesContainerProps } = this.props\n    const fragment = (\n      <View\n        style={[\n          {\n            height: this.state.messagesContainerHeight,\n          },\n          messagesContainerStyle,\n        ]}\n      >\n        <MessageContainer<TMessage>\n          {...messagesContainerProps}\n          invertibleScrollViewProps={this.invertibleScrollViewProps}\n          messages={this.getMessages()}\n          forwardRef={this._messageContainerRef}\n          isTyping={this.props.isTyping}\n        />\n        {this.renderChatFooter()}\n      </View>\n    )\n\n    return this.props.isKeyboardInternallyHandled ? (\n      <KeyboardAvoidingView enabled>{fragment}</KeyboardAvoidingView>\n    ) : (\n      fragment\n    )\n  }\n\n  onSend = (messages: TMessage[] = [], shouldResetInputToolbar = false) => {\n    if (!Array.isArray(messages)) {\n      messages = [messages]\n    }\n    const newMessages: TMessage[] = messages.map(message => {\n      return {\n        ...message,\n        user: this.props.user!,\n        createdAt: new Date(),\n        _id: this.props.messageIdGenerator && this.props.messageIdGenerator(),\n      }\n    })\n\n    if (shouldResetInputToolbar === true) {\n      this.setIsTypingDisabled(true)\n      this.resetInputToolbar()\n    }\n    if (this.props.onSend) {\n      this.props.onSend(newMessages)\n    }\n\n    if (shouldResetInputToolbar === true) {\n      setTimeout(() => {\n        if (this.getIsMounted() === true) {\n          this.setIsTypingDisabled(false)\n        }\n      }, 100)\n    }\n  }\n\n  resetInputToolbar() {\n    if (this.textInput) {\n      this.textInput.clear()\n    }\n    this.notifyInputTextReset()\n    const newComposerHeight = this.props.minComposerHeight\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(\n      newComposerHeight,\n    )\n    this.setState({\n      text: this.getTextFromProp(''),\n      composerHeight: newComposerHeight,\n      messagesContainerHeight: newMessagesContainerHeight,\n    })\n  }\n\n  focusTextInput() {\n    if (this.textInput) {\n      this.textInput.focus()\n    }\n  }\n\n  onInputSizeChanged = (size: { height: number }) => {\n    const newComposerHeight = Math.max(\n      this.props.minComposerHeight!,\n      Math.min(this.props.maxComposerHeight!, size.height),\n    )\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(\n      newComposerHeight,\n    )\n    this.setState({\n      composerHeight: newComposerHeight,\n      messagesContainerHeight: newMessagesContainerHeight,\n    })\n  }\n\n  onInputTextChanged = (text: string) => {\n    if (this.getIsTypingDisabled()) {\n      return\n    }\n    if (this.props.onInputTextChanged) {\n      this.props.onInputTextChanged(text)\n    }\n    // Only set state if it's not being overridden by a prop.\n    if (this.props.text === undefined) {\n      this.setState({ text })\n    }\n  }\n\n  notifyInputTextReset() {\n    if (this.props.onInputTextChanged) {\n      this.props.onInputTextChanged('')\n    }\n  }\n\n  onInitialLayoutViewLayout = (e: any) => {\n    const { layout } = e.nativeEvent\n    if (layout.height <= 0) {\n      return\n    }\n    this.notifyInputTextReset()\n    this.setMaxHeight(layout.height)\n    const newComposerHeight = this.props.minComposerHeight\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(\n      newComposerHeight,\n    )\n    const initialText = this.props.initialText || ''\n    this.setState({\n      isInitialized: true,\n      text: this.getTextFromProp(initialText),\n      composerHeight: newComposerHeight,\n      messagesContainerHeight: newMessagesContainerHeight,\n    })\n  }\n\n  onMainViewLayout = (e: any) => {\n    // fix an issue when keyboard is dismissing during the initialization\n    const { layout } = e.nativeEvent\n    if (\n      this.getMaxHeight() !== layout.height ||\n      this.getIsFirstLayout() === true\n    ) {\n      this.setMaxHeight(layout.height)\n      this.setState({\n        messagesContainerHeight:\n          this._keyboardHeight > 0\n            ? this.getMessagesContainerHeightWithKeyboard()\n            : this.getBasicMessagesContainerHeight(),\n      })\n    }\n    if (this.getIsFirstLayout() === true) {\n      this.setIsFirstLayout(false)\n    }\n  }\n\n  renderInputToolbar() {\n    const inputToolbarProps = {\n      ...this.props,\n      text: this.getTextFromProp(this.state.text!),\n      composerHeight: Math.max(\n        this.props.minComposerHeight!,\n        this.state.composerHeight!,\n      ),\n      onSend: this.onSend,\n      onInputSizeChanged: this.onInputSizeChanged,\n      onTextChanged: this.onInputTextChanged,\n      textInputProps: {\n        ...this.props.textInputProps,\n        ref: (textInput: any) => (this.textInput = textInput),\n        maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength,\n      },\n    }\n    if (this.props.renderInputToolbar) {\n      return this.props.renderInputToolbar(inputToolbarProps)\n    }\n    return <InputToolbar {...inputToolbarProps} />\n  }\n\n  renderChatFooter() {\n    if (this.props.renderChatFooter) {\n      return this.props.renderChatFooter()\n    }\n    return null\n  }\n\n  renderLoading() {\n    if (this.props.renderLoading) {\n      return this.props.renderLoading()\n    }\n    return null\n  }\n\n  render() {\n    if (this.state.isInitialized === true) {\n      const { wrapInSafeArea } = this.props\n      const Wrapper = wrapInSafeArea ? SafeAreaView : View\n\n      return (\n        <Wrapper style={styles.safeArea}>\n          <ActionSheetProvider\n            ref={(component: any) => (this._actionSheetRef = component)}\n          >\n            <View style={styles.container} onLayout={this.onMainViewLayout}>\n              {this.renderMessages()}\n              {this.renderInputToolbar()}\n            </View>\n          </ActionSheetProvider>\n        </Wrapper>\n      )\n    }\n    return (\n      <View style={styles.container} onLayout={this.onInitialLayoutViewLayout}>\n        {this.renderLoading()}\n      </View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  safeArea: {\n    flex: 1,\n  },\n})\n\nexport * from './Models'\n\nexport {\n  GiftedChat,\n  Actions,\n  Avatar,\n  Bubble,\n  SystemMessage,\n  MessageImage,\n  MessageText,\n  Composer,\n  Day,\n  InputToolbar,\n  LoadEarlier,\n  Message,\n  MessageContainer,\n  Send,\n  Time,\n  GiftedAvatar,\n  utils,\n}\n","export * from './GiftedChat'\n"],"names":["this","prop_types_1","dayjs_1","Color_1","utils_1","react_native_1","react_native_communications_1","Constant_1","React","react_native_iphone_x_helper_1","uuid_1"],"mappings":"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"}